{"version":3,"file":"../jquery.nicescroll.min.js","sources":["jquery.nicescroll.js"],"sourcesContent":["/* jquery.nicescroll\n-- version 3.7.6\n-- copyright 2017-07-19 InuYaksa*2017\n-- licensed under the MIT\n--\n-- https://nicescroll.areaaperta.com/\n-- https://github.com/inuyaksa/jquery.nicescroll\n--\n*/\n\n/* jshint expr: true */\n\n(function (factory) {\n  if (typeof define === 'function' && define.amd) {\n    // AMD. Register as anonymous module.\n    define(['jquery'], factory);\n  } else if (typeof exports === 'object') {\n    // Node/CommonJS.\n    module.exports = factory(require('jquery'));\n  } else {\n    // Browser globals.\n    factory(jQuery);\n  }\n}(function (jQuery) {\n\n  \"use strict\";\n\n  // globals\n  var domfocus = false,\n    mousefocus = false,\n    tabindexcounter = 0,\n    ascrailcounter = 2000,\n    globalmaxzindex = 0;\n\n  var $ = jQuery,       // sandbox\n    _doc = document,\n    _win = window,\n    $window = $(_win);\n\n  var delegatevents = [];\n\n  // http://stackoverflow.com/questions/2161159/get-script-path\n  function getScriptPath() {\n    var scripts = _doc.currentScript || (function () { var s = _doc.getElementsByTagName('script'); return (s.length) ? s[s.length - 1] : false; })();\n    var path = scripts ? scripts.src.split('?')[0] : '';\n    return (path.split('/').length > 0) ? path.split('/').slice(0, -1).join('/') + '/' : '';\n  }\n\n  // based on code by Paul Irish https://www.paulirish.com/2011/requestanimationframe-for-smart-animating/  \n  var setAnimationFrame = _win.requestAnimationFrame || _win.webkitRequestAnimationFrame || _win.mozRequestAnimationFrame || false;\n  var clearAnimationFrame = _win.cancelAnimationFrame || _win.webkitCancelAnimationFrame || _win.mozCancelAnimationFrame || false;\n\n  if (!setAnimationFrame) {\n    var anilasttime = 0;\n    setAnimationFrame = function (callback, element) {\n      var currTime = new Date().getTime();\n      var timeToCall = Math.max(0, 16 - (currTime - anilasttime));\n      var id = _win.setTimeout(function () { callback(currTime + timeToCall); },\n        timeToCall);\n      anilasttime = currTime + timeToCall;\n      return id;\n    };\n    clearAnimationFrame = function (id) {\n      _win.clearTimeout(id);\n    };\n  } else {\n    if (!_win.cancelAnimationFrame) clearAnimationFrame = function (id) { };\n  }\n\n  var ClsMutationObserver = _win.MutationObserver || _win.WebKitMutationObserver || false;\n\n  var now = Date.now || function () { return new Date().getTime(); };\n\n  var _globaloptions = {\n    zindex: \"auto\",\n    cursoropacitymin: 0,\n    cursoropacitymax: 1,\n    cursorcolor: \"#424242\",\n    cursorwidth: \"6px\",\n    cursorborder: \"1px solid #fff\",\n    cursorborderradius: \"5px\",\n    scrollspeed: 40,\n    mousescrollstep: 9 * 3,\n    touchbehavior: false,   // deprecated\n    emulatetouch: false,    // replacing touchbehavior\n    hwacceleration: true,\n    usetransition: true,\n    boxzoom: false,\n    dblclickzoom: true,\n    gesturezoom: true,\n    grabcursorenabled: true,\n    autohidemode: true,\n    background: \"\",\n    iframeautoresize: true,\n    cursorminheight: 32,\n    preservenativescrolling: true,\n    railoffset: false,\n    railhoffset: false,\n    bouncescroll: true,\n    spacebarenabled: true,\n    railpadding: {\n      top: 0,\n      right: 0,\n      left: 0,\n      bottom: 0\n    },\n    disableoutline: true,\n    horizrailenabled: true,\n    railalign: \"right\",\n    railvalign: \"bottom\",\n    enabletranslate3d: true,\n    enablemousewheel: true,\n    enablekeyboard: true,\n    smoothscroll: true,\n    sensitiverail: true,\n    enablemouselockapi: true,\n    //      cursormaxheight:false,\n    cursorfixedheight: false,\n    directionlockdeadzone: 6,\n    hidecursordelay: 400,\n    nativeparentscrolling: true,\n    enablescrollonselection: true,\n    overflowx: true,\n    overflowy: true,\n    cursordragspeed: 0.3,\n    rtlmode: \"auto\",\n    cursordragontouch: false,\n    oneaxismousemode: \"auto\",\n    scriptpath: getScriptPath(),\n    preventmultitouchscrolling: true,\n    disablemutationobserver: false,\n    enableobserver: true,\n    scrollbarid: false\n  };\n\n  var browserdetected = false;\n\n  var getBrowserDetection = function () {\n\n    if (browserdetected) return browserdetected;\n\n    var _el = _doc.createElement('DIV'),\n      _style = _el.style,\n      _agent = navigator.userAgent,\n      _platform = navigator.platform,\n      d = {};\n\n    d.haspointerlock = \"pointerLockElement\" in _doc || \"webkitPointerLockElement\" in _doc || \"mozPointerLockElement\" in _doc;\n\n    d.isopera = (\"opera\" in _win); // 12-\n    d.isopera12 = (d.isopera && (\"getUserMedia\" in navigator));\n    d.isoperamini = (Object.prototype.toString.call(_win.operamini) === \"[object OperaMini]\");\n\n    d.isie = ((\"all\" in _doc) && (\"attachEvent\" in _el) && !d.isopera); //IE10-\n    d.isieold = (d.isie && !(\"msInterpolationMode\" in _style)); // IE6 and older\n    d.isie7 = d.isie && !d.isieold && (!(\"documentMode\" in _doc) || (_doc.documentMode === 7));\n    d.isie8 = d.isie && (\"documentMode\" in _doc) && (_doc.documentMode === 8);\n    d.isie9 = d.isie && (\"performance\" in _win) && (_doc.documentMode === 9);\n    d.isie10 = d.isie && (\"performance\" in _win) && (_doc.documentMode === 10);\n    d.isie11 = (\"msRequestFullscreen\" in _el) && (_doc.documentMode >= 11); // IE11+\n\n    d.ismsedge = (\"msCredentials\" in _win);  // MS Edge 14+\n\n    d.ismozilla = (\"MozAppearance\" in _style);\n\n    d.iswebkit = !d.ismsedge && (\"WebkitAppearance\" in _style);\n\n    d.ischrome = d.iswebkit && (\"chrome\" in _win);\n    d.ischrome38 = (d.ischrome && (\"touchAction\" in _style)); // behavior changed in touch emulation    \n    d.ischrome22 = (!d.ischrome38) && (d.ischrome && d.haspointerlock);\n    d.ischrome26 = (!d.ischrome38) && (d.ischrome && (\"transition\" in _style)); // issue with transform detection (maintain prefix)\n\n    d.cantouch = (\"ontouchstart\" in _doc.documentElement) || (\"ontouchstart\" in _win); // with detection for Chrome Touch Emulation    \n    d.hasw3ctouch = (_win.PointerEvent || false) && ((navigator.maxTouchPoints > 0) || (navigator.msMaxTouchPoints > 0)); //IE11 pointer events, following W3C Pointer Events spec\n    d.hasmstouch = (!d.hasw3ctouch) && (_win.MSPointerEvent || false); // IE10 pointer events\n\n    d.ismac = /^mac$/i.test(_platform);\n\n    d.isios = d.cantouch && /iphone|ipad|ipod/i.test(_platform);\n    d.isios4 = d.isios && !(\"seal\" in Object);\n    d.isios7 = d.isios && (\"webkitHidden\" in _doc);  //iOS 7+\n    d.isios8 = d.isios && (\"hidden\" in _doc);  //iOS 8+\n    d.isios10 = d.isios && _win.Proxy;  //iOS 10+\n\n    d.isandroid = (/android/i.test(_agent));\n\n    d.haseventlistener = (\"addEventListener\" in _el);\n\n    d.trstyle = false;\n    d.hastransform = false;\n    d.hastranslate3d = false;\n    d.transitionstyle = false;\n    d.hastransition = false;\n    d.transitionend = false;\n\n    d.trstyle = \"transform\";\n    d.hastransform = (\"transform\" in _style) || (function () {\n      var check = ['msTransform', 'webkitTransform', 'MozTransform', 'OTransform'];\n      for (var a = 0, c = check.length; a < c; a++) {\n        if (_style[check[a]] !== undefined) {\n          d.trstyle = check[a];\n          break;\n        }\n      }\n      d.hastransform = (!!d.trstyle);\n    })();\n\n    if (d.hastransform) {\n      _style[d.trstyle] = \"translate3d(1px,2px,3px)\";\n      d.hastranslate3d = /translate3d/.test(_style[d.trstyle]);\n    }\n\n    d.transitionstyle = \"transition\";\n    d.prefixstyle = '';\n    d.transitionend = \"transitionend\";\n\n    d.hastransition = (\"transition\" in _style) || (function () {\n\n      d.transitionend = false;\n      var check = ['webkitTransition', 'msTransition', 'MozTransition', 'OTransition', 'OTransition', 'KhtmlTransition'];\n      var prefix = ['-webkit-', '-ms-', '-moz-', '-o-', '-o', '-khtml-'];\n      var evs = ['webkitTransitionEnd', 'msTransitionEnd', 'transitionend', 'otransitionend', 'oTransitionEnd', 'KhtmlTransitionEnd'];\n      for (var a = 0, c = check.length; a < c; a++) {\n        if (check[a] in _style) {\n          d.transitionstyle = check[a];\n          d.prefixstyle = prefix[a];\n          d.transitionend = evs[a];\n          break;\n        }\n      }\n      if (d.ischrome26) d.prefixstyle = prefix[1];  // always use prefix\n\n      d.hastransition = (d.transitionstyle);\n\n    })();\n\n    function detectCursorGrab() {\n      var lst = ['grab', '-webkit-grab', '-moz-grab'];\n      if ((d.ischrome && !d.ischrome38) || d.isie) lst = []; // force setting for IE returns false positive and chrome cursor bug\n      for (var a = 0, l = lst.length; a < l; a++) {\n        var p = lst[a];\n        _style.cursor = p;\n        if (_style.cursor == p) return p;\n      }\n      return 'url(https://cdnjs.cloudflare.com/ajax/libs/slider-pro/1.3.0/css/images/openhand.cur),n-resize'; // thanks to https://cdnjs.com/ for the openhand cursor!\n    }\n    d.cursorgrabvalue = detectCursorGrab();\n\n    d.hasmousecapture = (\"setCapture\" in _el);\n\n    d.hasMutationObserver = (ClsMutationObserver !== false);\n\n    _el = null; //memory released\n\n    browserdetected = d;\n\n    return d;\n  };\n\n  var NiceScrollClass = function (myopt, me) {\n\n    var self = this;\n\n    this.version = '3.7.6';\n    this.name = 'nicescroll';\n\n    this.me = me;\n\n    var $body = $(\"body\");\n\n    var opt = this.opt = {\n      doc: $body,\n      win: false\n    };\n\n    $.extend(opt, _globaloptions);  // clone opts\n\n    // Options for internal use\n    opt.snapbackspeed = 80;\n\n    if (myopt || false) {\n      for (var a in opt) {\n        if (myopt[a] !== undefined) opt[a] = myopt[a];\n      }\n    }\n\n    if (opt.disablemutationobserver) ClsMutationObserver = false;\n\n    this.doc = opt.doc;\n    this.iddoc = (this.doc && this.doc[0]) ? this.doc[0].id || '' : '';\n    this.ispage = /^BODY|HTML/.test((opt.win) ? opt.win[0].nodeName : this.doc[0].nodeName);\n    this.haswrapper = (opt.win !== false);\n    this.win = opt.win || (this.ispage ? $window : this.doc);\n    this.docscroll = (this.ispage && !this.haswrapper) ? $window : this.win;\n    this.body = $body;\n    this.viewport = false;\n\n    this.isfixed = false;\n\n    this.iframe = false;\n    this.isiframe = ((this.doc[0].nodeName == 'IFRAME') && (this.win[0].nodeName == 'IFRAME'));\n\n    this.istextarea = (this.win[0].nodeName == 'TEXTAREA');\n\n    this.forcescreen = false; //force to use screen position on events\n\n    this.canshowonmouseevent = (opt.autohidemode != \"scroll\");\n\n    // Events jump table    \n    this.onmousedown = false;\n    this.onmouseup = false;\n    this.onmousemove = false;\n    this.onmousewheel = false;\n    this.onkeypress = false;\n    this.ongesturezoom = false;\n    this.onclick = false;\n\n    // Nicescroll custom events\n    this.onscrollstart = false;\n    this.onscrollend = false;\n    this.onscrollcancel = false;\n\n    this.onzoomin = false;\n    this.onzoomout = false;\n\n    // Let's start!  \n    this.view = false;\n    this.page = false;\n\n    this.scroll = {\n      x: 0,\n      y: 0\n    };\n    this.scrollratio = {\n      x: 0,\n      y: 0\n    };\n    this.cursorheight = 20;\n    this.scrollvaluemax = 0;\n\n    // http://dev.w3.org/csswg/css-writing-modes-3/#logical-to-physical\n    // http://dev.w3.org/csswg/css-writing-modes-3/#svg-writing-mode\n    if (opt.rtlmode == \"auto\") {\n      var target = this.win[0] == _win ? this.body : this.win;\n      var writingMode = target.css(\"writing-mode\") || target.css(\"-webkit-writing-mode\") || target.css(\"-ms-writing-mode\") || target.css(\"-moz-writing-mode\");\n\n      if (writingMode == \"horizontal-tb\" || writingMode == \"lr-tb\" || writingMode === \"\") {\n        this.isrtlmode = (target.css(\"direction\") == \"rtl\");\n        this.isvertical = false;\n      } else {\n        this.isrtlmode = (writingMode == \"vertical-rl\" || writingMode == \"tb\" || writingMode == \"tb-rl\" || writingMode == \"rl-tb\");\n        this.isvertical = (writingMode == \"vertical-rl\" || writingMode == \"tb\" || writingMode == \"tb-rl\");\n      }\n    } else {\n      this.isrtlmode = (opt.rtlmode === true);\n      this.isvertical = false;\n    }\n    //    this.checkrtlmode = false;\n\n    this.scrollrunning = false;\n\n    this.scrollmom = false;\n\n    this.observer = false;  // observer div changes\n    this.observerremover = false;  // observer on parent for remove detection\n    this.observerbody = false;  // observer on body for position change\n\n    if (opt.scrollbarid !== false) {\n      this.id = opt.scrollbarid;\n    } else {\n      do {\n        this.id = \"ascrail\" + (ascrailcounter++);\n      } while (_doc.getElementById(this.id));\n    }\n\n    this.rail = false;\n    this.cursor = false;\n    this.cursorfreezed = false;\n    this.selectiondrag = false;\n\n    this.zoom = false;\n    this.zoomactive = false;\n\n    this.hasfocus = false;\n    this.hasmousefocus = false;\n\n    //this.visibility = true;\n    this.railslocked = false;  // locked by resize\n    this.locked = false;  // prevent lost of locked status sets by user\n    this.hidden = false; // rails always hidden\n    this.cursoractive = true; // user can interact with cursors\n\n    this.wheelprevented = false; //prevent mousewheel event\n\n    this.overflowx = opt.overflowx;\n    this.overflowy = opt.overflowy;\n\n    this.nativescrollingarea = false;\n    this.checkarea = 0;\n\n    this.events = []; // event list for unbind\n\n    this.saved = {};  // style saved\n\n    this.delaylist = {};\n    this.synclist = {};\n\n    this.lastdeltax = 0;\n    this.lastdeltay = 0;\n\n    this.detected = getBrowserDetection();\n\n    var cap = $.extend({}, this.detected);\n\n    this.canhwscroll = (cap.hastransform && opt.hwacceleration);\n    this.ishwscroll = (this.canhwscroll && self.haswrapper);\n\n    if (!this.isrtlmode) {\n      this.hasreversehr = false;\n    } else if (this.isvertical) { // RTL mode with reverse horizontal axis\n      this.hasreversehr = !(cap.iswebkit || cap.isie || cap.isie11);\n    } else {\n      this.hasreversehr = !(cap.iswebkit || (cap.isie && !cap.isie10 && !cap.isie11));\n    }\n\n    this.istouchcapable = false; // desktop devices with touch screen support\n\n    //## Check WebKit-based desktop with touch support\n    //## + Firefox 18 nightly build (desktop) false positive (or desktop with touch support)\n\n    if (!cap.cantouch && (cap.hasw3ctouch || cap.hasmstouch)) {  // desktop device with multiple input\n      this.istouchcapable = true;\n    } else if (cap.cantouch && !cap.isios && !cap.isandroid && (cap.iswebkit || cap.ismozilla)) {\n      this.istouchcapable = true;\n    }\n\n    //## disable MouseLock API on user request\n    if (!opt.enablemouselockapi) {\n      cap.hasmousecapture = false;\n      cap.haspointerlock = false;\n    }\n\n    this.debounced = function (name, fn, tm) {\n      if (!self) return;\n      var dd = self.delaylist[name] || false;\n      if (!dd) {\n        self.delaylist[name] = {\n          h: setAnimationFrame(function () {\n            self.delaylist[name].fn.call(self);\n            self.delaylist[name] = false;\n          }, tm)\n        };\n        fn.call(self);\n      }\n      self.delaylist[name].fn = fn;\n    };\n\n\n    this.synched = function (name, fn) {\n      if (self.synclist[name]) self.synclist[name] = fn;\n      else {\n        self.synclist[name] = fn;\n        setAnimationFrame(function () {\n          if (!self) return;\n          self.synclist[name] && self.synclist[name].call(self);\n          self.synclist[name] = null;\n        });\n      }\n    };\n\n    this.unsynched = function (name) {\n      if (self.synclist[name]) self.synclist[name] = false;\n    };\n\n    this.css = function (el, pars) { // save & set\n      for (var n in pars) {\n        self.saved.css.push([el, n, el.css(n)]);\n        el.css(n, pars[n]);\n      }\n    };\n\n    this.scrollTop = function (val) {\n      return (val === undefined) ? self.getScrollTop() : self.setScrollTop(val);\n    };\n\n    this.scrollLeft = function (val) {\n      return (val === undefined) ? self.getScrollLeft() : self.setScrollLeft(val);\n    };\n\n    // derived by by Dan Pupius www.pupius.net\n    var BezierClass = function (st, ed, spd, p1, p2, p3, p4) {\n\n      this.st = st;\n      this.ed = ed;\n      this.spd = spd;\n\n      this.p1 = p1 || 0;\n      this.p2 = p2 || 1;\n      this.p3 = p3 || 0;\n      this.p4 = p4 || 1;\n\n      this.ts = now();\n      this.df = ed - st;\n    };\n    BezierClass.prototype = {\n      B2: function (t) {\n        return 3 * (1 - t) * (1 - t) * t;\n      },\n      B3: function (t) {\n        return 3 * (1 - t) * t * t;\n      },\n      B4: function (t) {\n        return t * t * t;\n      },\n      getPos: function () {\n        return (now() - this.ts) / this.spd;\n      },\n      getNow: function () {\n        var pc = (now() - this.ts) / this.spd;\n        var bz = this.B2(pc) + this.B3(pc) + this.B4(pc);\n        return (pc >= 1) ? this.ed : this.st + (this.df * bz) | 0;\n      },\n      update: function (ed, spd) {\n        this.st = this.getNow();\n        this.ed = ed;\n        this.spd = spd;\n        this.ts = now();\n        this.df = this.ed - this.st;\n        return this;\n      }\n    };\n\n    //derived from http://stackoverflow.com/questions/11236090/\n    function getMatrixValues() {\n      var tr = self.doc.css(cap.trstyle);\n      if (tr && (tr.substr(0, 6) == \"matrix\")) {\n        return tr.replace(/^.*\\((.*)\\)$/g, \"$1\").replace(/px/g, '').split(/, +/);\n      }\n      return false;\n    }\n\n    if (this.ishwscroll) {    // hw accelerated scroll\n\n      this.doc.translate = {\n        x: 0,\n        y: 0,\n        tx: \"0px\",\n        ty: \"0px\"\n      };\n\n      //this one can help to enable hw accel on ios6 http://indiegamr.com/ios6-html-hardware-acceleration-changes-and-how-to-fix-them/\n      if (cap.hastranslate3d && cap.isios) this.doc.css(\"-webkit-backface-visibility\", \"hidden\"); // prevent flickering http://stackoverflow.com/questions/3461441/      \n\n      this.getScrollTop = function (last) {\n        if (!last) {\n          var mtx = getMatrixValues();\n          if (mtx) return (mtx.length == 16) ? -mtx[13] : -mtx[5]; //matrix3d 16 on IE10\n          if (self.timerscroll && self.timerscroll.bz) return self.timerscroll.bz.getNow();\n        }\n        return self.doc.translate.y;\n      };\n\n      this.getScrollLeft = function (last) {\n        if (!last) {\n          var mtx = getMatrixValues();\n          if (mtx) return (mtx.length == 16) ? -mtx[12] : -mtx[4]; //matrix3d 16 on IE10\n          if (self.timerscroll && self.timerscroll.bh) return self.timerscroll.bh.getNow();\n        }\n        return self.doc.translate.x;\n      };\n\n      this.notifyScrollEvent = function (el) {\n        var e = _doc.createEvent(\"UIEvents\");\n        e.initUIEvent(\"scroll\", false, false, _win, 1);\n        e.niceevent = true;\n        el.dispatchEvent(e);\n      };\n\n      var cxscrollleft = (this.isrtlmode) ? 1 : -1;\n\n      if (cap.hastranslate3d && opt.enabletranslate3d) {\n        this.setScrollTop = function (val, silent) {\n          self.doc.translate.y = val;\n          self.doc.translate.ty = (val * -1) + \"px\";\n          self.doc.css(cap.trstyle, \"translate3d(\" + self.doc.translate.tx + \",\" + self.doc.translate.ty + \",0)\");\n          if (!silent) self.notifyScrollEvent(self.win[0]);\n        };\n        this.setScrollLeft = function (val, silent) {\n          self.doc.translate.x = val;\n          self.doc.translate.tx = (val * cxscrollleft) + \"px\";\n          self.doc.css(cap.trstyle, \"translate3d(\" + self.doc.translate.tx + \",\" + self.doc.translate.ty + \",0)\");\n          if (!silent) self.notifyScrollEvent(self.win[0]);\n        };\n      } else {\n        this.setScrollTop = function (val, silent) {\n          self.doc.translate.y = val;\n          self.doc.translate.ty = (val * -1) + \"px\";\n          self.doc.css(cap.trstyle, \"translate(\" + self.doc.translate.tx + \",\" + self.doc.translate.ty + \")\");\n          if (!silent) self.notifyScrollEvent(self.win[0]);\n        };\n        this.setScrollLeft = function (val, silent) {\n          self.doc.translate.x = val;\n          self.doc.translate.tx = (val * cxscrollleft) + \"px\";\n          self.doc.css(cap.trstyle, \"translate(\" + self.doc.translate.tx + \",\" + self.doc.translate.ty + \")\");\n          if (!silent) self.notifyScrollEvent(self.win[0]);\n        };\n      }\n    } else {    // native scroll\n\n      this.getScrollTop = function () {\n        return self.docscroll.scrollTop();\n      };\n      this.setScrollTop = function (val) {\n        self.docscroll.scrollTop(val);\n      };\n\n      this.getScrollLeft = function () {\n        var val;\n        if (!self.hasreversehr) {\n          val = self.docscroll.scrollLeft();\n        } else if (self.detected.ismozilla) {\n          val = self.page.maxw - Math.abs(self.docscroll.scrollLeft());\n        } else {\n          val = self.page.maxw - self.docscroll.scrollLeft();\n        }\n        return val;\n      };\n      this.setScrollLeft = function (val) {\n        return setTimeout(function () {\n          if (!self) return;\n          if (self.hasreversehr) {\n            if (self.detected.ismozilla) {\n              val = -(self.page.maxw - val);\n            } else {\n              val = self.page.maxw - val;\n            }\n          }\n          return self.docscroll.scrollLeft(val);\n        }, 1);\n      };\n    }\n\n    this.getTarget = function (e) {\n      if (!e) return false;\n      if (e.target) return e.target;\n      if (e.srcElement) return e.srcElement;\n      return false;\n    };\n\n    this.hasParent = function (e, id) {\n      if (!e) return false;\n      var el = e.target || e.srcElement || e || false;\n      while (el && el.id != id) {\n        el = el.parentNode || false;\n      }\n      return (el !== false);\n    };\n\n    function getZIndex() {\n      var dom = self.win;\n      if (\"zIndex\" in dom) return dom.zIndex(); // use jQuery UI method when available\n      while (dom.length > 0) {\n        if (dom[0].nodeType == 9) return false;\n        var zi = dom.css('zIndex');\n        if (!isNaN(zi) && zi !== 0) return parseInt(zi);\n        dom = dom.parent();\n      }\n      return false;\n    }\n\n    //inspired by http://forum.jquery.com/topic/width-includes-border-width-when-set-to-thin-medium-thick-in-ie\n    var _convertBorderWidth = {\n      \"thin\": 1,\n      \"medium\": 3,\n      \"thick\": 5\n    };\n\n    function getWidthToPixel(dom, prop, chkheight) {\n      var wd = dom.css(prop);\n      var px = parseFloat(wd);\n      if (isNaN(px)) {\n        px = _convertBorderWidth[wd] || 0;\n        var brd = (px == 3) ? ((chkheight) ? (self.win.outerHeight() - self.win.innerHeight()) : (self.win.outerWidth() - self.win.innerWidth())) : 1; //DON'T TRUST CSS\n        if (self.isie8 && px) px += 1;\n        return (brd) ? px : 0;\n      }\n      return px;\n    }\n\n    this.getDocumentScrollOffset = function () {\n      return {\n        top: _win.pageYOffset || _doc.documentElement.scrollTop,\n        left: _win.pageXOffset || _doc.documentElement.scrollLeft\n      };\n    };\n\n    this.getOffset = function () {\n      if (self.isfixed) {\n        var ofs = self.win.offset();  // fix Chrome auto issue (when right/bottom props only)\n        var scrl = self.getDocumentScrollOffset();\n        ofs.top -= scrl.top;\n        ofs.left -= scrl.left;\n        return ofs;\n      }\n      var ww = self.win.offset();\n      if (!self.viewport) return ww;\n      var vp = self.viewport.offset();\n      return {\n        top: ww.top - vp.top,\n        left: ww.left - vp.left\n      };\n    };\n\n    this.updateScrollBar = function (len) {\n      var pos, off;\n      if (self.ishwscroll) {\n        self.rail.css({\n          height: self.win.innerHeight() - (opt.railpadding.top + opt.railpadding.bottom)\n        });\n        if (self.railh) self.railh.css({\n          width: self.win.innerWidth() - (opt.railpadding.left + opt.railpadding.right)\n        });\n      } else {\n        var wpos = self.getOffset();\n        pos = {\n          top: wpos.top,\n          left: wpos.left - (opt.railpadding.left + opt.railpadding.right)\n        };\n        pos.top += getWidthToPixel(self.win, 'border-top-width', true);\n        pos.left += (self.rail.align) ? self.win.outerWidth() - getWidthToPixel(self.win, 'border-right-width') - self.rail.width : getWidthToPixel(self.win, 'border-left-width');\n\n        off = opt.railoffset;\n        if (off) {\n          if (off.top) pos.top += off.top;\n          if (off.left) pos.left += off.left;\n        }\n\n        if (!self.railslocked) self.rail.css({\n          top: pos.top,\n          left: pos.left,\n          height: ((len) ? len.h : self.win.innerHeight()) - (opt.railpadding.top + opt.railpadding.bottom)\n        });\n\n        if (self.zoom) {\n          self.zoom.css({\n            top: pos.top + 1,\n            left: (self.rail.align == 1) ? pos.left - 20 : pos.left + self.rail.width + 4\n          });\n        }\n\n        if (self.railh && !self.railslocked) {\n          pos = {\n            top: wpos.top,\n            left: wpos.left\n          };\n          off = opt.railhoffset;\n          if (off) {\n            if (off.top) pos.top += off.top;\n            if (off.left) pos.left += off.left;\n          }\n          var y = (self.railh.align) ? pos.top + getWidthToPixel(self.win, 'border-top-width', true) + self.win.innerHeight() - self.railh.height : pos.top + getWidthToPixel(self.win, 'border-top-width', true);\n          var x = pos.left + getWidthToPixel(self.win, 'border-left-width');\n          self.railh.css({\n            top: y - (opt.railpadding.top + opt.railpadding.bottom),\n            left: x,\n            width: self.railh.width\n          });\n        }\n\n      }\n    };\n\n    this.doRailClick = function (e, dbl, hr) {\n      var fn, pg, cur, pos;\n\n      if (self.railslocked) return;\n\n      self.cancelEvent(e);\n\n      if (!(\"pageY\" in e)) {\n        e.pageX = e.clientX + _doc.documentElement.scrollLeft;\n        e.pageY = e.clientY + _doc.documentElement.scrollTop;\n      }\n\n      if (dbl) {\n        fn = (hr) ? self.doScrollLeft : self.doScrollTop;\n        cur = (hr) ? ((e.pageX - self.railh.offset().left - (self.cursorwidth / 2)) * self.scrollratio.x) : ((e.pageY - self.rail.offset().top - (self.cursorheight / 2)) * self.scrollratio.y);\n        self.unsynched(\"relativexy\");\n        fn(cur|0);\n      } else {\n        fn = (hr) ? self.doScrollLeftBy : self.doScrollBy;\n        cur = (hr) ? self.scroll.x : self.scroll.y;\n        pos = (hr) ? e.pageX - self.railh.offset().left : e.pageY - self.rail.offset().top;\n        pg = (hr) ? self.view.w : self.view.h;\n        fn((cur >= pos) ? pg : -pg);\n      }\n\n    };\n\n    self.newscrolly = self.newscrollx = 0;\n\n    self.hasanimationframe = (\"requestAnimationFrame\" in _win);\n    self.hascancelanimationframe = (\"cancelAnimationFrame\" in _win);\n\n    self.hasborderbox = false;\n\n    this.init = function () {\n\n      self.saved.css = [];\n\n      if (cap.isoperamini) return true; // SORRY, DO NOT WORK!\n      if (cap.isandroid && !(\"hidden\" in _doc)) return true; // Android 3- SORRY, DO NOT WORK!\n\n      opt.emulatetouch = opt.emulatetouch || opt.touchbehavior;  // mantain compatibility with \"touchbehavior\"      \n\n      self.hasborderbox = _win.getComputedStyle && (_win.getComputedStyle(_doc.body)['box-sizing'] === \"border-box\");\n\n      var _scrollyhidden = { 'overflow-y': 'hidden' };\n      if (cap.isie11 || cap.isie10) _scrollyhidden['-ms-overflow-style'] = 'none';  // IE 10 & 11 is always a world apart!\n\n      if (self.ishwscroll) {\n        this.doc.css(cap.transitionstyle, cap.prefixstyle + 'transform 0ms ease-out');\n        if (cap.transitionend) self.bind(self.doc, cap.transitionend, self.onScrollTransitionEnd, false); //I have got to do something usefull!!\n      }\n\n      self.zindex = \"auto\";\n      if (!self.ispage && opt.zindex == \"auto\") {\n        self.zindex = getZIndex() || \"auto\";\n      } else {\n        self.zindex = opt.zindex;\n      }\n\n      if (!self.ispage && self.zindex != \"auto\" && self.zindex > globalmaxzindex) {\n        globalmaxzindex = self.zindex;\n      }\n\n      if (self.isie && self.zindex === 0 && opt.zindex == \"auto\") { // fix IE auto == 0\n        self.zindex = \"auto\";\n      }\n\n      if (!self.ispage || !cap.isieold) {\n\n        var cont = self.docscroll;\n        if (self.ispage) cont = (self.haswrapper) ? self.win : self.doc;\n\n        self.css(cont, _scrollyhidden);\n\n        if (self.ispage && (cap.isie11 || cap.isie)) { // IE 7-11\n          self.css($(\"html\"), _scrollyhidden);\n        }\n\n        if (cap.isios && !self.ispage && !self.haswrapper) self.css($body, {\n          \"-webkit-overflow-scrolling\": \"touch\"\n        }); //force hw acceleration\n\n        var cursor = $(_doc.createElement('div'));\n        cursor.css({\n          position: \"relative\",\n          top: 0,\n          \"float\": \"right\",\n          width: opt.cursorwidth,\n          height: 0,\n          'background-color': opt.cursorcolor,\n          border: opt.cursorborder,\n          'background-clip': 'padding-box',\n          '-webkit-border-radius': opt.cursorborderradius,\n          '-moz-border-radius': opt.cursorborderradius,\n          'border-radius': opt.cursorborderradius\n        });\n\n        cursor.addClass('nicescroll-cursors');\n\n        self.cursor = cursor;\n\n        var rail = $(_doc.createElement('div'));\n        rail.attr('id', self.id);\n        rail.addClass('nicescroll-rails nicescroll-rails-vr');\n\n        var v, a, kp = [\"left\", \"right\", \"top\", \"bottom\"];  //**\n        for (var n in kp) {\n          a = kp[n];\n          v = opt.railpadding[a] || 0;\n          v && rail.css(\"padding-\" + a, v + \"px\");\n        }\n\n        rail.append(cursor);\n\n        rail.width = Math.max(parseFloat(opt.cursorwidth), cursor.outerWidth());\n        rail.css({\n          width: rail.width + \"px\",\n          zIndex: self.zindex,\n          background: opt.background,\n          cursor: \"default\"\n        });\n\n        rail.visibility = true;\n        rail.scrollable = true;\n\n        rail.align = (opt.railalign == \"left\") ? 0 : 1;\n\n        self.rail = rail;\n\n        self.rail.drag = false;\n\n        var zoom = false;\n        if (opt.boxzoom && !self.ispage && !cap.isieold) {\n          zoom = _doc.createElement('div');\n\n          self.bind(zoom, \"click\", self.doZoom);\n          self.bind(zoom, \"mouseenter\", function () {\n            self.zoom.css('opacity', opt.cursoropacitymax);\n          });\n          self.bind(zoom, \"mouseleave\", function () {\n            self.zoom.css('opacity', opt.cursoropacitymin);\n          });\n\n          self.zoom = $(zoom);\n          self.zoom.css({\n            cursor: \"pointer\",\n            zIndex: self.zindex,\n            backgroundImage: 'url(' + opt.scriptpath + 'zoomico.png)',\n            height: 18,\n            width: 18,\n            backgroundPosition: '0 0'\n          });\n          if (opt.dblclickzoom) self.bind(self.win, \"dblclick\", self.doZoom);\n          if (cap.cantouch && opt.gesturezoom) {\n            self.ongesturezoom = function (e) {\n              if (e.scale > 1.5) self.doZoomIn(e);\n              if (e.scale < 0.8) self.doZoomOut(e);\n              return self.cancelEvent(e);\n            };\n            self.bind(self.win, \"gestureend\", self.ongesturezoom);\n          }\n        }\n\n        // init HORIZ\n\n        self.railh = false;\n        var railh;\n\n        if (opt.horizrailenabled) {\n\n          self.css(cont, {\n            overflowX: 'hidden'\n          });\n\n          cursor = $(_doc.createElement('div'));\n          cursor.css({\n            position: \"absolute\",\n            top: 0,\n            height: opt.cursorwidth,\n            width: 0,\n            backgroundColor: opt.cursorcolor,\n            border: opt.cursorborder,\n            backgroundClip: 'padding-box',\n            '-webkit-border-radius': opt.cursorborderradius,\n            '-moz-border-radius': opt.cursorborderradius,\n            'border-radius': opt.cursorborderradius\n          });\n\n          if (cap.isieold) cursor.css('overflow', 'hidden');  //IE6 horiz scrollbar issue\n\n          cursor.addClass('nicescroll-cursors');\n\n          self.cursorh = cursor;\n\n          railh = $(_doc.createElement('div'));\n          railh.attr('id', self.id + '-hr');\n          railh.addClass('nicescroll-rails nicescroll-rails-hr');\n          railh.height = Math.max(parseFloat(opt.cursorwidth), cursor.outerHeight());\n          railh.css({\n            height: railh.height + \"px\",\n            'zIndex': self.zindex,\n            \"background\": opt.background\n          });\n\n          railh.append(cursor);\n\n          railh.visibility = true;\n          railh.scrollable = true;\n\n          railh.align = (opt.railvalign == \"top\") ? 0 : 1;\n\n          self.railh = railh;\n\n          self.railh.drag = false;\n\n        }\n\n        if (self.ispage) {\n\n          rail.css({\n            position: \"fixed\",\n            top: 0,\n            height: \"100%\"\n          });\n\n          rail.css((rail.align) ? { right: 0 } : { left: 0 });\n\n          self.body.append(rail);\n          if (self.railh) {\n            railh.css({\n              position: \"fixed\",\n              left: 0,\n              width: \"100%\"\n            });\n\n            railh.css((railh.align) ? { bottom: 0 } : { top: 0 });\n\n            self.body.append(railh);\n          }\n        } else {\n          if (self.ishwscroll) {\n            if (self.win.css('position') == 'static') self.css(self.win, { 'position': 'relative' });\n            var bd = (self.win[0].nodeName == 'HTML') ? self.body : self.win;\n            $(bd).scrollTop(0).scrollLeft(0);  // fix rail position if content already scrolled\n            if (self.zoom) {\n              self.zoom.css({\n                position: \"absolute\",\n                top: 1,\n                right: 0,\n                \"margin-right\": rail.width + 4\n              });\n              bd.append(self.zoom);\n            }\n            rail.css({\n              position: \"absolute\",\n              top: 0\n            });\n            rail.css((rail.align) ? { right: 0 } : { left: 0 });\n            bd.append(rail);\n            if (railh) {\n              railh.css({\n                position: \"absolute\",\n                left: 0,\n                bottom: 0\n              });\n              railh.css((railh.align) ? { bottom: 0 } : { top: 0 });\n              bd.append(railh);\n            }\n          } else {\n            self.isfixed = (self.win.css(\"position\") == \"fixed\");\n            var rlpos = (self.isfixed) ? \"fixed\" : \"absolute\";\n\n            if (!self.isfixed) self.viewport = self.getViewport(self.win[0]);\n            if (self.viewport) {\n              self.body = self.viewport;\n              if (!(/fixed|absolute/.test(self.viewport.css(\"position\")))) self.css(self.viewport, {\n                \"position\": \"relative\"\n              });\n            }\n\n            rail.css({\n              position: rlpos\n            });\n            if (self.zoom) self.zoom.css({\n              position: rlpos\n            });\n            self.updateScrollBar();\n            self.body.append(rail);\n            if (self.zoom) self.body.append(self.zoom);\n            if (self.railh) {\n              railh.css({\n                position: rlpos\n              });\n              self.body.append(railh);\n            }\n          }\n\n          if (cap.isios) self.css(self.win, {\n            '-webkit-tap-highlight-color': 'rgba(0,0,0,0)',\n            '-webkit-touch-callout': 'none'\n          }); // prevent grey layer on click\n\n          if (opt.disableoutline) {\n            if (cap.isie) self.win.attr(\"hideFocus\", \"true\"); // IE, prevent dotted rectangle on focused div\n            if (cap.iswebkit) self.win.css('outline', 'none');  // Webkit outline\n          }\n\n        }\n\n        if (opt.autohidemode === false) {\n          self.autohidedom = false;\n          self.rail.css({\n            opacity: opt.cursoropacitymax\n          });\n          if (self.railh) self.railh.css({\n            opacity: opt.cursoropacitymax\n          });\n        } else if ((opt.autohidemode === true) || (opt.autohidemode === \"leave\")) {\n          self.autohidedom = $().add(self.rail);\n          if (cap.isie8) self.autohidedom = self.autohidedom.add(self.cursor);\n          if (self.railh) self.autohidedom = self.autohidedom.add(self.railh);\n          if (self.railh && cap.isie8) self.autohidedom = self.autohidedom.add(self.cursorh);\n        } else if (opt.autohidemode == \"scroll\") {\n          self.autohidedom = $().add(self.rail);\n          if (self.railh) self.autohidedom = self.autohidedom.add(self.railh);\n        } else if (opt.autohidemode == \"cursor\") {\n          self.autohidedom = $().add(self.cursor);\n          if (self.railh) self.autohidedom = self.autohidedom.add(self.cursorh);\n        } else if (opt.autohidemode == \"hidden\") {\n          self.autohidedom = false;\n          self.hide();\n          self.railslocked = false;\n        }\n\n        if (cap.cantouch || self.istouchcapable || opt.emulatetouch || cap.hasmstouch) {\n\n          self.scrollmom = new ScrollMomentumClass2D(self);\n\n          var delayedclick = null;\n\n          self.ontouchstart = function (e) {\n\n            if (self.locked) return false;\n\n            //if (e.pointerType && e.pointerType != 2 && e.pointerType != \"touch\") return false;\n            if (e.pointerType && (e.pointerType === 'mouse' || e.pointerType === e.MSPOINTER_TYPE_MOUSE)) return false;  // need test on surface!!\n\n            self.hasmoving = false;\n\n            if (self.scrollmom.timer) {\n              self.triggerScrollEnd();\n              self.scrollmom.stop();\n            }\n\n            if (!self.railslocked) {\n              var tg = self.getTarget(e);\n\n              if (tg) {\n                var skp = (/INPUT/i.test(tg.nodeName)) && (/range/i.test(tg.type));\n                if (skp) return self.stopPropagation(e);\n              }\n\n              var ismouse = (e.type === \"mousedown\");\n\n              if (!(\"clientX\" in e) && (\"changedTouches\" in e)) {\n                e.clientX = e.changedTouches[0].clientX;\n                e.clientY = e.changedTouches[0].clientY;\n              }\n\n              if (self.forcescreen) {\n                var le = e;\n                e = {\n                  \"original\": (e.original) ? e.original : e\n                };\n                e.clientX = le.screenX;\n                e.clientY = le.screenY;\n              }\n\n              self.rail.drag = {\n                x: e.clientX,\n                y: e.clientY,\n                sx: self.scroll.x,\n                sy: self.scroll.y,\n                st: self.getScrollTop(),\n                sl: self.getScrollLeft(),\n                pt: 2,\n                dl: false,\n                tg: tg\n              };\n\n              if (self.ispage || !opt.directionlockdeadzone) {\n\n                self.rail.drag.dl = \"f\";\n\n              } else {\n\n                var view = {\n                  w: $window.width(),\n                  h: $window.height()\n                };\n\n                var page = self.getContentSize();\n\n                var maxh = page.h - view.h;\n                var maxw = page.w - view.w;\n\n                if (self.rail.scrollable && !self.railh.scrollable) self.rail.drag.ck = (maxh > 0) ? \"v\" : false;\n                else if (!self.rail.scrollable && self.railh.scrollable) self.rail.drag.ck = (maxw > 0) ? \"h\" : false;\n                else self.rail.drag.ck = false;\n\n              }\n\n              if (opt.emulatetouch && self.isiframe && cap.isie) {\n                var wp = self.win.position();\n                self.rail.drag.x += wp.left;\n                self.rail.drag.y += wp.top;\n              }\n\n              self.hasmoving = false;\n              self.lastmouseup = false;\n              self.scrollmom.reset(e.clientX, e.clientY);\n\n              if (tg&&ismouse) {\n\n                var ip = /INPUT|SELECT|BUTTON|TEXTAREA/i.test(tg.nodeName);\n                if (!ip) {\n                  if (cap.hasmousecapture) tg.setCapture();\n                  if (opt.emulatetouch) {\n                    if (tg.onclick && !(tg._onclick || false)) { // intercept DOM0 onclick event\n                      tg._onclick = tg.onclick;\n                      tg.onclick = function (e) {\n                        if (self.hasmoving) return false;\n                        tg._onclick.call(this, e);\n                      };\n                    }\n                    return self.cancelEvent(e);\n                  }\n                  return self.stopPropagation(e);\n                }\n\n                if (/SUBMIT|CANCEL|BUTTON/i.test($(tg).attr('type'))) {\n                  self.preventclick = {\n                    \"tg\": tg,\n                    \"click\": false\n                  };\n                }\n\n              }\n            }\n\n          };\n\n          self.ontouchend = function (e) {\n\n            if (!self.rail.drag) return true;\n\n            if (self.rail.drag.pt == 2) {\n              //if (e.pointerType && e.pointerType != 2 && e.pointerType != \"touch\") return false;\n              if (e.pointerType && (e.pointerType === 'mouse' || e.pointerType === e.MSPOINTER_TYPE_MOUSE)) return false;\n\n              self.rail.drag = false;\n\n              var ismouse = (e.type === \"mouseup\");\n\n              if (self.hasmoving) {\n                self.scrollmom.doMomentum();\n                self.lastmouseup = true;\n                self.hideCursor();\n                if (cap.hasmousecapture) _doc.releaseCapture();\n                if (ismouse) return self.cancelEvent(e);\n              }\n\n            }\n            else if (self.rail.drag.pt == 1) {\n              return self.onmouseup(e);\n            }\n\n          };\n\n          var moveneedoffset = (opt.emulatetouch && self.isiframe && !cap.hasmousecapture);\n\n          var locktollerance = opt.directionlockdeadzone * 0.3 | 0;\n\n          self.ontouchmove = function (e, byiframe) {\n\n            if (!self.rail.drag) return true;\n\n            if (e.targetTouches && opt.preventmultitouchscrolling) {\n              if (e.targetTouches.length > 1) return true; // multitouch\n            }\n\n            //if (e.pointerType && e.pointerType != 2 && e.pointerType != \"touch\") return false;\n            if (e.pointerType && (e.pointerType === 'mouse' || e.pointerType === e.MSPOINTER_TYPE_MOUSE)) return true;\n\n            if (self.rail.drag.pt == 2) {\n\n              if ((\"changedTouches\" in e)) {\n                e.clientX = e.changedTouches[0].clientX;\n                e.clientY = e.changedTouches[0].clientY;\n              }\n\n              var ofy, ofx;\n              ofx = ofy = 0;\n\n              if (moveneedoffset && !byiframe) {\n                var wp = self.win.position();\n                ofx = -wp.left;\n                ofy = -wp.top;\n              }\n\n              var fy = e.clientY + ofy;\n              var my = (fy - self.rail.drag.y);\n              var fx = e.clientX + ofx;\n              var mx = (fx - self.rail.drag.x);\n\n              var ny = self.rail.drag.st - my;\n\n              if (self.ishwscroll && opt.bouncescroll) {\n                if (ny < 0) {\n                  ny = Math.round(ny / 2);\n                } else if (ny > self.page.maxh) {\n                  ny = self.page.maxh + Math.round((ny - self.page.maxh) / 2);\n                }\n              } else {\n                if (ny < 0) {\n                  ny = 0;\n                  fy = 0;\n                }\n                else if (ny > self.page.maxh) {\n                  ny = self.page.maxh;\n                  fy = 0;\n                }\n                if (fy === 0 && !self.hasmoving) {\n                  if (!self.ispage) self.rail.drag = false;\n                  return true;\n                }\n              }\n\n              var nx = self.getScrollLeft();\n\n              if (self.railh && self.railh.scrollable) {\n                nx = (self.isrtlmode) ? mx - self.rail.drag.sl : self.rail.drag.sl - mx;\n\n                if (self.ishwscroll && opt.bouncescroll) {\n                  if (nx < 0) {\n                    nx = Math.round(nx / 2);\n                  } else if (nx > self.page.maxw) {\n                    nx = self.page.maxw + Math.round((nx - self.page.maxw) / 2);\n                  }\n                } else {\n                  if (nx < 0) {\n                    nx = 0;\n                    fx = 0;\n                  }\n                  if (nx > self.page.maxw) {\n                    nx = self.page.maxw;\n                    fx = 0;\n                  }\n                }\n\n              }\n\n\n              if (!self.hasmoving) {\n\n                if (self.rail.drag.y === e.clientY && self.rail.drag.x === e.clientX) return self.cancelEvent(e);  // prevent first useless move event \n\n                var ay = Math.abs(my);\n                var ax = Math.abs(mx);\n                var dz = opt.directionlockdeadzone;\n\n                if (!self.rail.drag.ck) {\n                  if (ay > dz && ax > dz) self.rail.drag.dl = \"f\";\n                  else if (ay > dz) self.rail.drag.dl = (ax > locktollerance) ? \"f\" : \"v\";\n                  else if (ax > dz) self.rail.drag.dl = (ay > locktollerance) ? \"f\" : \"h\";\n                }\n                else if (self.rail.drag.ck == \"v\") {\n                  if (ax > dz && ay <= locktollerance) {\n                    self.rail.drag = false;\n                  }\n                  else if (ay > dz) self.rail.drag.dl = \"v\";\n\n                }\n                else if (self.rail.drag.ck == \"h\") {\n\n                  if (ay > dz && ax <= locktollerance) {\n                    self.rail.drag = false;\n                  }\n                  else if (ax > dz) self.rail.drag.dl = \"h\";\n\n                }\n\n                if (!self.rail.drag.dl) return self.cancelEvent(e);\n\n                self.triggerScrollStart(e.clientX, e.clientY, 0, 0, 0);\n                self.hasmoving = true;\n              }\n\n              if (self.preventclick && !self.preventclick.click) {\n                self.preventclick.click = self.preventclick.tg.onclick || false;\n                self.preventclick.tg.onclick = self.onpreventclick;\n              }\n\n              if (self.rail.drag.dl) {\n                if (self.rail.drag.dl == \"v\") nx = self.rail.drag.sl;\n                else if (self.rail.drag.dl == \"h\") ny = self.rail.drag.st;\n              }\n\n              self.synched(\"touchmove\", function () {\n                if (self.rail.drag && (self.rail.drag.pt == 2)) {\n                  if (self.prepareTransition) self.resetTransition();\n                  if (self.rail.scrollable) self.setScrollTop(ny);\n                  self.scrollmom.update(fx, fy);\n                  if (self.railh && self.railh.scrollable) {\n                    self.setScrollLeft(nx);\n                    self.showCursor(ny, nx);\n                  } else {\n                    self.showCursor(ny);\n                  }\n                  if (cap.isie10) _doc.selection.clear();\n                }\n              });\n\n              return self.cancelEvent(e);\n\n            }\n            else if (self.rail.drag.pt == 1) { // drag on cursor\n              return self.onmousemove(e);\n            }\n\n          };\n\n          self.ontouchstartCursor = function (e, hronly) {\n            if (self.rail.drag && self.rail.drag.pt != 3) return;\n            if (self.locked) return self.cancelEvent(e);\n            self.cancelScroll();\n            self.rail.drag = {\n              x: e.touches[0].clientX,\n              y: e.touches[0].clientY,\n              sx: self.scroll.x,\n              sy: self.scroll.y,\n              pt: 3,\n              hr: (!!hronly)\n            };\n            var tg = self.getTarget(e);\n            if (!self.ispage && cap.hasmousecapture) tg.setCapture();\n            if (self.isiframe && !cap.hasmousecapture) {\n              self.saved.csspointerevents = self.doc.css(\"pointer-events\");\n              self.css(self.doc, { \"pointer-events\": \"none\" });\n            }\n            return self.cancelEvent(e);\n          };\n\n          self.ontouchendCursor = function (e) {\n            if (self.rail.drag) {\n              if (cap.hasmousecapture) _doc.releaseCapture();\n              if (self.isiframe && !cap.hasmousecapture) self.doc.css(\"pointer-events\", self.saved.csspointerevents);\n              if (self.rail.drag.pt != 3) return;\n              self.rail.drag = false;\n              return self.cancelEvent(e);\n            }\n          };\n\n          self.ontouchmoveCursor = function (e) {\n            if (self.rail.drag) {\n              if (self.rail.drag.pt != 3) return;\n\n              self.cursorfreezed = true;\n\n              if (self.rail.drag.hr) {\n                self.scroll.x = self.rail.drag.sx + (e.touches[0].clientX - self.rail.drag.x);\n                if (self.scroll.x < 0) self.scroll.x = 0;\n                var mw = self.scrollvaluemaxw;\n                if (self.scroll.x > mw) self.scroll.x = mw;\n              } else {\n                self.scroll.y = self.rail.drag.sy + (e.touches[0].clientY - self.rail.drag.y);\n                if (self.scroll.y < 0) self.scroll.y = 0;\n                var my = self.scrollvaluemax;\n                if (self.scroll.y > my) self.scroll.y = my;\n              }\n\n              self.synched('touchmove', function () {\n                if (self.rail.drag && (self.rail.drag.pt == 3)) {\n                  self.showCursor();\n                  if (self.rail.drag.hr) self.doScrollLeft(Math.round(self.scroll.x * self.scrollratio.x), opt.cursordragspeed);\n                  else self.doScrollTop(Math.round(self.scroll.y * self.scrollratio.y), opt.cursordragspeed);\n                }\n              });\n\n              return self.cancelEvent(e);\n            }\n\n          };\n\n        }\n\n        self.onmousedown = function (e, hronly) {\n          if (self.rail.drag && self.rail.drag.pt != 1) return;\n          if (self.railslocked) return self.cancelEvent(e);\n          self.cancelScroll();\n          self.rail.drag = {\n            x: e.clientX,\n            y: e.clientY,\n            sx: self.scroll.x,\n            sy: self.scroll.y,\n            pt: 1,\n            hr: hronly || false\n          };\n          var tg = self.getTarget(e);\n\n          if (cap.hasmousecapture) tg.setCapture();\n          if (self.isiframe && !cap.hasmousecapture) {\n            self.saved.csspointerevents = self.doc.css(\"pointer-events\");\n            self.css(self.doc, {\n              \"pointer-events\": \"none\"\n            });\n          }\n          self.hasmoving = false;\n          return self.cancelEvent(e);\n        };\n\n        self.onmouseup = function (e) {\n          if (self.rail.drag) {\n            if (self.rail.drag.pt != 1) return true;\n\n            if (cap.hasmousecapture) _doc.releaseCapture();\n            if (self.isiframe && !cap.hasmousecapture) self.doc.css(\"pointer-events\", self.saved.csspointerevents);\n            self.rail.drag = false;\n            self.cursorfreezed = false;\n            if (self.hasmoving) self.triggerScrollEnd();\n            return self.cancelEvent(e);\n          }\n        };\n\n        self.onmousemove = function (e) {\n          if (self.rail.drag) {\n            if (self.rail.drag.pt !== 1) return;\n\n            if (cap.ischrome && e.which === 0) return self.onmouseup(e);\n\n            self.cursorfreezed = true;\n\n            if (!self.hasmoving) self.triggerScrollStart(e.clientX, e.clientY, 0, 0, 0);\n\n            self.hasmoving = true;\n\n            if (self.rail.drag.hr) {\n              self.scroll.x = self.rail.drag.sx + (e.clientX - self.rail.drag.x);\n              if (self.scroll.x < 0) self.scroll.x = 0;\n              var mw = self.scrollvaluemaxw;\n              if (self.scroll.x > mw) self.scroll.x = mw;\n            } else {\n              self.scroll.y = self.rail.drag.sy + (e.clientY - self.rail.drag.y);\n              if (self.scroll.y < 0) self.scroll.y = 0;\n              var my = self.scrollvaluemax;\n              if (self.scroll.y > my) self.scroll.y = my;\n            }\n\n            self.synched('mousemove', function () {\n\n              if (self.cursorfreezed) {\n                self.showCursor();\n\n                if (self.rail.drag.hr) {\n                  self.scrollLeft(Math.round(self.scroll.x * self.scrollratio.x));\n                } else {\n                  self.scrollTop(Math.round(self.scroll.y * self.scrollratio.y));\n                }\n\n              }\n            });\n\n            return self.cancelEvent(e);\n          }\n          else {\n            self.checkarea = 0;\n          }\n        };\n\n        if (cap.cantouch || opt.emulatetouch) {\n\n          self.onpreventclick = function (e) {\n            if (self.preventclick) {\n              self.preventclick.tg.onclick = self.preventclick.click;\n              self.preventclick = false;\n              return self.cancelEvent(e);\n            }\n          };\n\n          self.onclick = (cap.isios) ? false : function (e) {  // it needs to check IE11 ???\n            if (self.lastmouseup) {\n              self.lastmouseup = false;\n              return self.cancelEvent(e);\n            } else {\n              return true;\n            }\n          };\n\n          if (opt.grabcursorenabled && cap.cursorgrabvalue) {\n            self.css((self.ispage) ? self.doc : self.win, {\n              'cursor': cap.cursorgrabvalue\n            });\n            self.css(self.rail, {\n              'cursor': cap.cursorgrabvalue\n            });\n          }\n\n        } else {\n\n          var checkSelectionScroll = function (e) {\n            if (!self.selectiondrag) return;\n\n            if (e) {\n              var ww = self.win.outerHeight();\n              var df = (e.pageY - self.selectiondrag.top);\n              if (df > 0 && df < ww) df = 0;\n              if (df >= ww) df -= ww;\n              self.selectiondrag.df = df;\n            }\n            if (self.selectiondrag.df === 0) return;\n\n            var rt = -(self.selectiondrag.df*2/6)|0;\n            self.doScrollBy(rt);\n\n            self.debounced(\"doselectionscroll\", function () {\n              checkSelectionScroll();\n            }, 50);\n          };\n\n          if (\"getSelection\" in _doc) { // A grade - Major browsers\n            self.hasTextSelected = function () {\n              return (_doc.getSelection().rangeCount > 0);\n            };\n          } else if (\"selection\" in _doc) { //IE9-\n            self.hasTextSelected = function () {\n              return (_doc.selection.type != \"None\");\n            };\n          } else {\n            self.hasTextSelected = function () { // no support\n              return false;\n            };\n          }\n\n          self.onselectionstart = function (e) {\n            //  More testing - severe chrome issues           \n            /* \n                          if (!self.haswrapper&&(e.which&&e.which==2)) {  // fool browser to manage middle button scrolling\n                            self.win.css({'overflow':'auto'});\n                            setTimeout(function(){\n                              self.win.css({'overflow':'hidden'});\n                            },10);                \n                            return true;\n                          }            \n            */\n            if (self.ispage) return;\n            self.selectiondrag = self.win.offset();\n          };\n\n          self.onselectionend = function (e) {\n            self.selectiondrag = false;\n          };\n          self.onselectiondrag = function (e) {\n            if (!self.selectiondrag) return;\n            if (self.hasTextSelected()) self.debounced(\"selectionscroll\", function () {\n              checkSelectionScroll(e);\n            }, 250);\n          };\n        }\n\n        if (cap.hasw3ctouch) { //IE11+\n          self.css((self.ispage) ? $(\"html\") : self.win, { 'touch-action': 'none' });\n          self.css(self.rail, {\n            'touch-action': 'none'\n          });\n          self.css(self.cursor, {\n            'touch-action': 'none'\n          });\n          self.bind(self.win, \"pointerdown\", self.ontouchstart);\n          self.bind(_doc, \"pointerup\", self.ontouchend);\n          self.delegate(_doc, \"pointermove\", self.ontouchmove);\n        } else if (cap.hasmstouch) { //IE10\n          self.css((self.ispage) ? $(\"html\") : self.win, { '-ms-touch-action': 'none' });\n          self.css(self.rail, {\n            '-ms-touch-action': 'none'\n          });\n          self.css(self.cursor, {\n            '-ms-touch-action': 'none'\n          });\n          self.bind(self.win, \"MSPointerDown\", self.ontouchstart);\n          self.bind(_doc, \"MSPointerUp\", self.ontouchend);\n          self.delegate(_doc, \"MSPointerMove\", self.ontouchmove);\n          self.bind(self.cursor, \"MSGestureHold\", function (e) {\n            e.preventDefault();\n          });\n          self.bind(self.cursor, \"contextmenu\", function (e) {\n            e.preventDefault();\n          });\n        } else if (cap.cantouch) { // smartphones/touch devices\n          self.bind(self.win, \"touchstart\", self.ontouchstart, false, true);\n          self.bind(_doc, \"touchend\", self.ontouchend, false, true);\n          self.bind(_doc, \"touchcancel\", self.ontouchend, false, true);\n          self.delegate(_doc, \"touchmove\", self.ontouchmove, false, true);\n        }\n\n        if (opt.emulatetouch) {\n          self.bind(self.win, \"mousedown\", self.ontouchstart, false, true);\n          self.bind(_doc, \"mouseup\", self.ontouchend, false, true);\n          self.bind(_doc, \"mousemove\", self.ontouchmove, false, true);\n        }\n\n        if (opt.cursordragontouch || (!cap.cantouch && !opt.emulatetouch)) {\n\n          self.rail.css({\n            cursor: \"default\"\n          });\n          self.railh && self.railh.css({\n            cursor: \"default\"\n          });\n\n          self.jqbind(self.rail, \"mouseenter\", function () {\n            if (!self.ispage && !self.win.is(\":visible\")) return false;\n            if (self.canshowonmouseevent) self.showCursor();\n            self.rail.active = true;\n          });\n          self.jqbind(self.rail, \"mouseleave\", function () {\n            self.rail.active = false;\n            if (!self.rail.drag) self.hideCursor();\n          });\n\n          if (opt.sensitiverail) {\n            self.bind(self.rail, \"click\", function (e) {\n              self.doRailClick(e, false, false);\n            });\n            self.bind(self.rail, \"dblclick\", function (e) {\n              self.doRailClick(e, true, false);\n            });\n            self.bind(self.cursor, \"click\", function (e) {\n              self.cancelEvent(e);\n            });\n            self.bind(self.cursor, \"dblclick\", function (e) {\n              self.cancelEvent(e);\n            });\n          }\n\n          if (self.railh) {\n            self.jqbind(self.railh, \"mouseenter\", function () {\n              if (!self.ispage && !self.win.is(\":visible\")) return false;\n              if (self.canshowonmouseevent) self.showCursor();\n              self.rail.active = true;\n            });\n            self.jqbind(self.railh, \"mouseleave\", function () {\n              self.rail.active = false;\n              if (!self.rail.drag) self.hideCursor();\n            });\n\n            if (opt.sensitiverail) {\n              self.bind(self.railh, \"click\", function (e) {\n                self.doRailClick(e, false, true);\n              });\n              self.bind(self.railh, \"dblclick\", function (e) {\n                self.doRailClick(e, true, true);\n              });\n              self.bind(self.cursorh, \"click\", function (e) {\n                self.cancelEvent(e);\n              });\n              self.bind(self.cursorh, \"dblclick\", function (e) {\n                self.cancelEvent(e);\n              });\n            }\n\n          }\n\n        }\n\n        if (opt.cursordragontouch && (this.istouchcapable || cap.cantouch)) {\n          self.bind(self.cursor, \"touchstart\", self.ontouchstartCursor);\n          self.bind(self.cursor, \"touchmove\", self.ontouchmoveCursor);\n          self.bind(self.cursor, \"touchend\", self.ontouchendCursor);\n          self.cursorh && self.bind(self.cursorh, \"touchstart\", function (e) {\n            self.ontouchstartCursor(e, true);\n          });\n          self.cursorh && self.bind(self.cursorh, \"touchmove\", self.ontouchmoveCursor);\n          self.cursorh && self.bind(self.cursorh, \"touchend\", self.ontouchendCursor);\n        }\n\n//        if (!cap.cantouch && !opt.emulatetouch) {\n        if (!opt.emulatetouch && !cap.isandroid && !cap.isios) {\n\n          self.bind((cap.hasmousecapture) ? self.win : _doc, \"mouseup\", self.onmouseup);\n          self.bind(_doc, \"mousemove\", self.onmousemove);\n          if (self.onclick) self.bind(_doc, \"click\", self.onclick);\n\n          self.bind(self.cursor, \"mousedown\", self.onmousedown);\n          self.bind(self.cursor, \"mouseup\", self.onmouseup);\n\n          if (self.railh) {\n            self.bind(self.cursorh, \"mousedown\", function (e) {\n              self.onmousedown(e, true);\n            });\n            self.bind(self.cursorh, \"mouseup\", self.onmouseup);\n          }\n\n          if (!self.ispage && opt.enablescrollonselection) {\n            self.bind(self.win[0], \"mousedown\", self.onselectionstart);\n            self.bind(_doc, \"mouseup\", self.onselectionend);\n            self.bind(self.cursor, \"mouseup\", self.onselectionend);\n            if (self.cursorh) self.bind(self.cursorh, \"mouseup\", self.onselectionend);\n            self.bind(_doc, \"mousemove\", self.onselectiondrag);\n          }\n\n          if (self.zoom) {\n            self.jqbind(self.zoom, \"mouseenter\", function () {\n              if (self.canshowonmouseevent) self.showCursor();\n              self.rail.active = true;\n            });\n            self.jqbind(self.zoom, \"mouseleave\", function () {\n              self.rail.active = false;\n              if (!self.rail.drag) self.hideCursor();\n            });\n          }\n\n        } else {\n\n          self.bind((cap.hasmousecapture) ? self.win : _doc, \"mouseup\", self.ontouchend);\n          if (self.onclick) self.bind(_doc, \"click\", self.onclick);\n\n          if (opt.cursordragontouch) {\n            self.bind(self.cursor, \"mousedown\", self.onmousedown);\n            self.bind(self.cursor, \"mouseup\", self.onmouseup);\n            self.cursorh && self.bind(self.cursorh, \"mousedown\", function (e) {\n              self.onmousedown(e, true);\n            });\n            self.cursorh && self.bind(self.cursorh, \"mouseup\", self.onmouseup);\n          } else {\n            self.bind(self.rail, \"mousedown\", function (e) { e.preventDefault(); });  // prevent text selection             \n            self.railh && self.bind(self.railh, \"mousedown\", function (e) { e.preventDefault(); });\n          }\n\n        }\n\n\n        if (opt.enablemousewheel) {\n          if (!self.isiframe) self.mousewheel((cap.isie && self.ispage) ? _doc : self.win, self.onmousewheel);\n          self.mousewheel(self.rail, self.onmousewheel);\n          if (self.railh) self.mousewheel(self.railh, self.onmousewheelhr);\n        }\n\n        if (!self.ispage && !cap.cantouch && !(/HTML|^BODY/.test(self.win[0].nodeName))) {\n          if (!self.win.attr(\"tabindex\")) self.win.attr({\n            \"tabindex\": ++tabindexcounter\n          });\n\n          self.bind(self.win, \"focus\", function (e) {  // better using native events\n            domfocus = (self.getTarget(e)).id || self.getTarget(e) || false;\n            self.hasfocus = true;\n            if (self.canshowonmouseevent) self.noticeCursor();\n          });\n          self.bind(self.win, \"blur\", function (e) {  // *\n            domfocus = false;\n            self.hasfocus = false;\n          });\n\n          self.bind(self.win, \"mouseenter\", function (e) {   // *\n            mousefocus = (self.getTarget(e)).id || self.getTarget(e) || false;\n            self.hasmousefocus = true;\n            if (self.canshowonmouseevent) self.noticeCursor();\n          });\n          self.bind(self.win, \"mouseleave\", function (e) {   // *       \n            mousefocus = false;\n            self.hasmousefocus = false;\n            if (!self.rail.drag) self.hideCursor();\n          });\n\n        }\n\n\n        //Thanks to http://www.quirksmode.org !!\n        self.onkeypress = function (e) {\n          if (self.railslocked && self.page.maxh === 0) return true;\n\n          e = e || _win.event;\n          var tg = self.getTarget(e);\n          if (tg && /INPUT|TEXTAREA|SELECT|OPTION/.test(tg.nodeName)) {\n            var tp = tg.getAttribute('type') || tg.type || false;\n            if ((!tp) || !(/submit|button|cancel/i.tp)) return true;\n          }\n\n          if ($(tg).attr('contenteditable')) return true;\n\n          if (self.hasfocus || (self.hasmousefocus && !domfocus) || (self.ispage && !domfocus && !mousefocus)) {\n            var key = e.keyCode;\n\n            if (self.railslocked && key != 27) return self.cancelEvent(e);\n\n            var ctrl = e.ctrlKey || false;\n            var shift = e.shiftKey || false;\n\n            var ret = false;\n            switch (key) {\n              case 38:\n              case 63233: //safari\n                self.doScrollBy(24 * 3);\n                ret = true;\n                break;\n              case 40:\n              case 63235: //safari\n                self.doScrollBy(-24 * 3);\n                ret = true;\n                break;\n              case 37:\n              case 63232: //safari\n                if (self.railh) {\n                  (ctrl) ? self.doScrollLeft(0) : self.doScrollLeftBy(24 * 3);\n                  ret = true;\n                }\n                break;\n              case 39:\n              case 63234: //safari\n                if (self.railh) {\n                  (ctrl) ? self.doScrollLeft(self.page.maxw) : self.doScrollLeftBy(-24 * 3);\n                  ret = true;\n                }\n                break;\n              case 33:\n              case 63276: // safari\n                self.doScrollBy(self.view.h);\n                ret = true;\n                break;\n              case 34:\n              case 63277: // safari\n                self.doScrollBy(-self.view.h);\n                ret = true;\n                break;\n              case 36:\n              case 63273: // safari                \n                (self.railh && ctrl) ? self.doScrollPos(0, 0) : self.doScrollTo(0);\n                ret = true;\n                break;\n              case 35:\n              case 63275: // safari\n                (self.railh && ctrl) ? self.doScrollPos(self.page.maxw, self.page.maxh) : self.doScrollTo(self.page.maxh);\n                ret = true;\n                break;\n              case 32:\n                if (opt.spacebarenabled) {\n                  (shift) ? self.doScrollBy(self.view.h) : self.doScrollBy(-self.view.h);\n                  ret = true;\n                }\n                break;\n              case 27: // ESC\n                if (self.zoomactive) {\n                  self.doZoom();\n                  ret = true;\n                }\n                break;\n            }\n            if (ret) return self.cancelEvent(e);\n          }\n        };\n\n        if (opt.enablekeyboard) self.bind(_doc, (cap.isopera && !cap.isopera12) ? \"keypress\" : \"keydown\", self.onkeypress);\n\n        self.bind(_doc, \"keydown\", function (e) {\n          var ctrl = e.ctrlKey || false;\n          if (ctrl) self.wheelprevented = true;\n        });\n        self.bind(_doc, \"keyup\", function (e) {\n          var ctrl = e.ctrlKey || false;\n          if (!ctrl) self.wheelprevented = false;\n        });\n        self.bind(_win, \"blur\", function (e) {\n          self.wheelprevented = false;\n        });\n\n        self.bind(_win, 'resize', self.onscreenresize);\n        self.bind(_win, 'orientationchange', self.onscreenresize);\n\n        self.bind(_win, \"load\", self.lazyResize);\n\n        if (cap.ischrome && !self.ispage && !self.haswrapper) { //chrome void scrollbar bug - it persists in version 26\n          var tmp = self.win.attr(\"style\");\n          var ww = parseFloat(self.win.css(\"width\")) + 1;\n          self.win.css('width', ww);\n          self.synched(\"chromefix\", function () {\n            self.win.attr(\"style\", tmp);\n          });\n        }\n\n\n        // Trying a cross-browser implementation - good luck!\n\n        self.onAttributeChange = function (e) {\n          self.lazyResize(self.isieold ? 250 : 30);\n        };\n\n        if (opt.enableobserver) {\n\n          if ((!self.isie11) && (ClsMutationObserver !== false)) {  // IE11 crashes  #568\n            self.observerbody = new ClsMutationObserver(function (mutations) {\n              mutations.forEach(function (mut) {\n                if (mut.type == \"attributes\") {\n                  return ($body.hasClass(\"modal-open\") && $body.hasClass(\"modal-dialog\") && !$.contains($('.modal-dialog')[0], self.doc[0])) ? self.hide() : self.show();  // Support for Bootstrap modal; Added check if the nice scroll element is inside a modal\n                }\n              });\n              if (self.me.clientWidth != self.page.width || self.me.clientHeight != self.page.height) return self.lazyResize(30);\n            });\n            self.observerbody.observe(_doc.body, {\n              childList: true,\n              subtree: true,\n              characterData: false,\n              attributes: true,\n              attributeFilter: ['class']\n            });\n          }\n\n          if (!self.ispage && !self.haswrapper) {\n\n            var _dom = self.win[0];\n\n            // redesigned MutationObserver for Chrome18+/Firefox14+/iOS6+ with support for: remove div, add/remove content\n            if (ClsMutationObserver !== false) {\n              self.observer = new ClsMutationObserver(function (mutations) {\n                mutations.forEach(self.onAttributeChange);\n              });\n              self.observer.observe(_dom, {\n                childList: true,\n                characterData: false,\n                attributes: true,\n                subtree: false\n              });\n              self.observerremover = new ClsMutationObserver(function (mutations) {\n                mutations.forEach(function (mo) {\n                  if (mo.removedNodes.length > 0) {\n                    for (var dd in mo.removedNodes) {\n                      if (!!self && (mo.removedNodes[dd] === _dom)) return self.remove();\n                    }\n                  }\n                });\n              });\n              self.observerremover.observe(_dom.parentNode, {\n                childList: true,\n                characterData: false,\n                attributes: false,\n                subtree: false\n              });\n            } else {\n              self.bind(_dom, (cap.isie && !cap.isie9) ? \"propertychange\" : \"DOMAttrModified\", self.onAttributeChange);\n              if (cap.isie9) _dom.attachEvent(\"onpropertychange\", self.onAttributeChange); //IE9 DOMAttrModified bug\n              self.bind(_dom, \"DOMNodeRemoved\", function (e) {\n                if (e.target === _dom) self.remove();\n              });\n            }\n          }\n\n        }\n\n        //\n\n        if (!self.ispage && opt.boxzoom) self.bind(_win, \"resize\", self.resizeZoom);\n        if (self.istextarea) {\n          self.bind(self.win, \"keydown\", self.lazyResize);\n          self.bind(self.win, \"mouseup\", self.lazyResize);\n        }\n\n        self.lazyResize(30);\n\n      }\n\n      if (this.doc[0].nodeName == 'IFRAME') {\n        var oniframeload = function () {\n          self.iframexd = false;\n          var doc;\n          try {\n            doc = 'contentDocument' in this ? this.contentDocument : this.contentWindow._doc;\n            var a = doc.domain;\n          } catch (e) {\n            self.iframexd = true;\n            doc = false;\n          }\n\n          if (self.iframexd) {\n            if (\"console\" in _win) console.log('NiceScroll error: policy restriced iframe');\n            return true; //cross-domain - I can't manage this        \n          }\n\n          self.forcescreen = true;\n\n          if (self.isiframe) {\n            self.iframe = {\n              \"doc\": $(doc),\n              \"html\": self.doc.contents().find('html')[0],\n              \"body\": self.doc.contents().find('body')[0]\n            };\n            self.getContentSize = function () {\n              return {\n                w: Math.max(self.iframe.html.scrollWidth, self.iframe.body.scrollWidth),\n                h: Math.max(self.iframe.html.scrollHeight, self.iframe.body.scrollHeight)\n              };\n            };\n            self.docscroll = $(self.iframe.body);\n          }\n\n          if (!cap.isios && opt.iframeautoresize && !self.isiframe) {\n            self.win.scrollTop(0); // reset position\n            self.doc.height(\"\"); //reset height to fix browser bug\n            var hh = Math.max(doc.getElementsByTagName('html')[0].scrollHeight, doc.body.scrollHeight);\n            self.doc.height(hh);\n          }\n          self.lazyResize(30);\n\n          self.css($(self.iframe.body), _scrollyhidden);\n\n          if (cap.isios && self.haswrapper) {\n            self.css($(doc.body), {\n              '-webkit-transform': 'translate3d(0,0,0)'\n            }); // avoid iFrame content clipping - thanks to http://blog.derraab.com/2012/04/02/avoid-iframe-content-clipping-with-css-transform-on-ios/\n          }\n\n          if ('contentWindow' in this) {\n            self.bind(this.contentWindow, \"scroll\", self.onscroll); //IE8 & minor\n          } else {\n            self.bind(doc, \"scroll\", self.onscroll);\n          }\n\n          if (opt.enablemousewheel) {\n            self.mousewheel(doc, self.onmousewheel);\n          }\n\n          if (opt.enablekeyboard) self.bind(doc, (cap.isopera) ? \"keypress\" : \"keydown\", self.onkeypress);\n\n          if (cap.cantouch) {\n            self.bind(doc, \"touchstart\", self.ontouchstart);\n            self.bind(doc, \"touchmove\", self.ontouchmove);\n          }\n          else if (opt.emulatetouch) {\n            self.bind(doc, \"mousedown\", self.ontouchstart);\n            self.bind(doc, \"mousemove\", function (e) {\n              return self.ontouchmove(e, true);\n            });\n            if (opt.grabcursorenabled && cap.cursorgrabvalue) self.css($(doc.body), {\n              'cursor': cap.cursorgrabvalue\n            });\n          }\n\n          self.bind(doc, \"mouseup\", self.ontouchend);\n\n          if (self.zoom) {\n            if (opt.dblclickzoom) self.bind(doc, 'dblclick', self.doZoom);\n            if (self.ongesturezoom) self.bind(doc, \"gestureend\", self.ongesturezoom);\n          }\n        };\n\n        if (this.doc[0].readyState && this.doc[0].readyState === \"complete\") {\n          setTimeout(function () {\n            oniframeload.call(self.doc[0], false);\n          }, 500);\n        }\n        self.bind(this.doc, \"load\", oniframeload);\n\n      }\n\n    };\n\n    this.showCursor = function (py, px) {\n      if (self.cursortimeout) {\n        clearTimeout(self.cursortimeout);\n        self.cursortimeout = 0;\n      }\n      if (!self.rail) return;\n      if (self.autohidedom) {\n        self.autohidedom.stop().css({\n          opacity: opt.cursoropacitymax\n        });\n        self.cursoractive = true;\n      }\n\n      if (!self.rail.drag || self.rail.drag.pt != 1) {\n        if (py !== undefined && py !== false) {\n          self.scroll.y = (py / self.scrollratio.y) | 0;\n        }\n        if (px !== undefined) {\n          self.scroll.x = (px / self.scrollratio.x) | 0;\n        }\n      }\n\n      self.cursor.css({\n        height: self.cursorheight,\n        top: self.scroll.y\n      });\n      if (self.cursorh) {\n        var lx = (self.hasreversehr) ? self.scrollvaluemaxw - self.scroll.x : self.scroll.x;\n        self.cursorh.css({\n          width: self.cursorwidth,\n          left: (!self.rail.align && self.rail.visibility) ? lx + self.rail.width : lx\n        });\n        self.cursoractive = true;\n      }\n\n      if (self.zoom) self.zoom.stop().css({\n        opacity: opt.cursoropacitymax\n      });\n    };\n\n    this.hideCursor = function (tm) {\n      if (self.cursortimeout) return;\n      if (!self.rail) return;\n      if (!self.autohidedom) return;\n\n      if (self.hasmousefocus && opt.autohidemode === \"leave\") return;\n      self.cursortimeout = setTimeout(function () {\n        if (!self.rail.active || !self.showonmouseevent) {\n          self.autohidedom.stop().animate({\n            opacity: opt.cursoropacitymin\n          });\n          if (self.zoom) self.zoom.stop().animate({\n            opacity: opt.cursoropacitymin\n          });\n          self.cursoractive = false;\n        }\n        self.cursortimeout = 0;\n      }, tm || opt.hidecursordelay);\n    };\n\n    this.noticeCursor = function (tm, py, px) {\n      self.showCursor(py, px);\n      if (!self.rail.active) self.hideCursor(tm);\n    };\n\n    this.getContentSize =\n      (self.ispage) ?\n        function () {\n          return {\n            w: Math.max(_doc.body.scrollWidth, _doc.documentElement.scrollWidth),\n            h: Math.max(_doc.body.scrollHeight, _doc.documentElement.scrollHeight)\n          };\n        } : (self.haswrapper) ?\n          function () {\n            return {\n              w: self.doc[0].offsetWidth,\n              h: self.doc[0].offsetHeight\n            };\n          } : function () {\n            return {\n              w: self.docscroll[0].scrollWidth,\n              h: self.docscroll[0].scrollHeight\n            };\n          };\n\n    this.onResize = function (e, page) {\n\n      if (!self || !self.win) return false;\n\n      var premaxh = self.page.maxh,\n          premaxw = self.page.maxw,\n          previewh = self.view.h,\n          previeww = self.view.w;\n\n      self.view = {\n        w: (self.ispage) ? self.win.width() : self.win[0].clientWidth,\n        h: (self.ispage) ? self.win.height() : self.win[0].clientHeight\n      };\n\n      self.page = (page) ? page : self.getContentSize();\n\n      self.page.maxh = Math.max(0, self.page.h - self.view.h);\n      self.page.maxw = Math.max(0, self.page.w - self.view.w);\n\n      if ((self.page.maxh == premaxh) && (self.page.maxw == premaxw) && (self.view.w == previeww) && (self.view.h == previewh)) {\n        // test position        \n        if (!self.ispage) {\n          var pos = self.win.offset();\n          if (self.lastposition) {\n            var lst = self.lastposition;\n            if ((lst.top == pos.top) && (lst.left == pos.left)) return self; //nothing to do            \n          }\n          self.lastposition = pos;\n        } else {\n          return self; //nothing to do\n        }\n      }\n\n      if (self.page.maxh === 0) {\n        self.hideRail();\n        self.scrollvaluemax = 0;\n        self.scroll.y = 0;\n        self.scrollratio.y = 0;\n        self.cursorheight = 0;\n        self.setScrollTop(0);\n        if (self.rail) self.rail.scrollable = false;\n      } else {\n        self.page.maxh -= (opt.railpadding.top + opt.railpadding.bottom);\n        self.rail.scrollable = true;\n      }\n\n      if (self.page.maxw === 0) {\n        self.hideRailHr();\n        self.scrollvaluemaxw = 0;\n        self.scroll.x = 0;\n        self.scrollratio.x = 0;\n        self.cursorwidth = 0;\n        self.setScrollLeft(0);\n        if (self.railh) {\n          self.railh.scrollable = false;\n        }\n      } else {\n        self.page.maxw -= (opt.railpadding.left + opt.railpadding.right);\n        if (self.railh) self.railh.scrollable = (opt.horizrailenabled);\n      }\n\n      self.railslocked = (self.locked) || ((self.page.maxh === 0) && (self.page.maxw === 0));\n      if (self.railslocked) {\n        if (!self.ispage) self.updateScrollBar(self.view);\n        return false;\n      }\n\n      if (!self.hidden) {\n        if (!self.rail.visibility) self.showRail();\n        if (self.railh && !self.railh.visibility) self.showRailHr();\n      }\n\n      if (self.istextarea && self.win.css('resize') && self.win.css('resize') != 'none') self.view.h -= 20;\n\n      self.cursorheight = Math.min(self.view.h, Math.round(self.view.h * (self.view.h / self.page.h)));\n      self.cursorheight = (opt.cursorfixedheight) ? opt.cursorfixedheight : Math.max(opt.cursorminheight, self.cursorheight);\n\n      self.cursorwidth = Math.min(self.view.w, Math.round(self.view.w * (self.view.w / self.page.w)));\n      self.cursorwidth = (opt.cursorfixedheight) ? opt.cursorfixedheight : Math.max(opt.cursorminheight, self.cursorwidth);\n\n      self.scrollvaluemax = self.view.h - self.cursorheight - (opt.railpadding.top + opt.railpadding.bottom);\n      if (!self.hasborderbox) self.scrollvaluemax -= self.cursor[0].offsetHeight - self.cursor[0].clientHeight;\n\n      if (self.railh) {\n        self.railh.width = (self.page.maxh > 0) ? (self.rail.width) : self.view.w;\n        self.scrollvaluemaxw = self.railh.width - self.cursorwidth - (opt.railpadding.left + opt.railpadding.right);\n      }\n\n      if (!self.ispage) self.updateScrollBar(self.view);\n\n      self.scrollratio = {\n        x: (self.page.maxw / self.scrollvaluemaxw),\n        y: (self.page.maxh / self.scrollvaluemax)\n      };\n\n      var sy = self.getScrollTop();\n      if (sy > self.page.maxh) {\n        self.doScrollTop(self.page.maxh);\n      } else {\n        self.scroll.y = (self.getScrollTop() / self.scrollratio.y) | 0;\n        self.scroll.x = (self.getScrollLeft() / self.scrollratio.x) | 0;\n        if (self.cursoractive) self.noticeCursor();\n      }\n\n      if (self.scroll.y && (self.getScrollTop() === 0)) self.doScrollTo((self.scroll.y * self.scrollratio.y)|0);\n\n      return self;\n    };\n\n    this.resize = self.onResize;\n\n    var hlazyresize = 0;\n\n    this.onscreenresize = function(e) {\n      clearTimeout(hlazyresize);\n\n      var hiderails = (!self.ispage && !self.haswrapper);\n      if (hiderails) self.hideRails();\n\n      hlazyresize = setTimeout(function () {\n        if (self) {\n          if (hiderails) self.showRails();\n          self.resize();\n        }\n        hlazyresize=0;\n      }, 120);\n    };\n\n    this.lazyResize = function (tm) { // event debounce\n\n      clearTimeout(hlazyresize);\n\n      tm = isNaN(tm) ? 240 : tm;\n\n      hlazyresize = setTimeout(function () {\n        self && self.resize();\n        hlazyresize=0;\n      }, tm);\n\n      return self;\n\n    };\n\n    // derived by MDN https://developer.mozilla.org/en-US/docs/DOM/Mozilla_event_reference/wheel\n    function _modernWheelEvent(dom, name, fn, bubble) {\n      self._bind(dom, name, function (e) {\n        e = e || _win.event;\n        var event = {\n          original: e,\n          target: e.target || e.srcElement,\n          type: \"wheel\",\n          deltaMode: e.type == \"MozMousePixelScroll\" ? 0 : 1,\n          deltaX: 0,\n          deltaZ: 0,\n          preventDefault: function () {\n            e.preventDefault ? e.preventDefault() : e.returnValue = false;\n            return false;\n          },\n          stopImmediatePropagation: function () {\n            (e.stopImmediatePropagation) ? e.stopImmediatePropagation() : e.cancelBubble = true;\n          }\n        };\n\n        if (name == \"mousewheel\") {\n          e.wheelDeltaX && (event.deltaX = -1 / 40 * e.wheelDeltaX);\n          e.wheelDeltaY && (event.deltaY = -1 / 40 * e.wheelDeltaY);\n          !event.deltaY && !event.deltaX && (event.deltaY = -1 / 40 * e.wheelDelta);\n        } else {\n          event.deltaY = e.detail;\n        }\n\n        return fn.call(dom, event);\n      }, bubble);\n    }\n\n\n\n    this.jqbind = function (dom, name, fn) { // use jquery bind for non-native events (mouseenter/mouseleave)\n      self.events.push({\n        e: dom,\n        n: name,\n        f: fn,\n        q: true\n      });\n      $(dom).on(name, fn);\n    };\n\n    this.mousewheel = function (dom, fn, bubble) { // bind mousewheel\n      var el = (\"jquery\" in dom) ? dom[0] : dom;\n      if (\"onwheel\" in _doc.createElement(\"div\")) { // Modern browsers support \"wheel\"\n        self._bind(el, \"wheel\", fn, bubble || false);\n      } else {\n        var wname = (_doc.onmousewheel !== undefined) ? \"mousewheel\" : \"DOMMouseScroll\"; // older Webkit+IE support or older Firefox          \n        _modernWheelEvent(el, wname, fn, bubble || false);\n        if (wname == \"DOMMouseScroll\") _modernWheelEvent(el, \"MozMousePixelScroll\", fn, bubble || false); // Firefox legacy\n      }\n    };\n\n    var passiveSupported = false;\n\n    if (cap.haseventlistener) {  // W3C standard event model\n\n      // thanks to https://developer.mozilla.org/en-US/docs/Web/API/EventTarget/addEventListener\n      try { var options = Object.defineProperty({}, \"passive\", { get: function () { passiveSupported = !0; } }); _win.addEventListener(\"test\", null, options); } catch (err) { }\n\n      this.stopPropagation = function (e) {\n        if (!e) return false;\n        e = (e.original) ? e.original : e;\n        e.stopPropagation();\n        return false;\n      };\n\n      this.cancelEvent = function(e) {\n        if (e.cancelable) e.preventDefault();\n        e.stopImmediatePropagation();\n        if (e.preventManipulation) e.preventManipulation();  // IE10+\n        return false;\n      };      \n\n    } else {\n\n      // inspired from https://gist.github.com/jonathantneal/2415137      \n\n      Event.prototype.preventDefault = function () {\n        this.returnValue = false;\n      };\n\n      Event.prototype.stopPropagation = function () {\n        this.cancelBubble = true;\n      };\n\n      _win.constructor.prototype.addEventListener = _doc.constructor.prototype.addEventListener = Element.prototype.addEventListener = function (type, listener, useCapture) {\n        this.attachEvent(\"on\" + type, listener);\n      };\n      _win.constructor.prototype.removeEventListener = _doc.constructor.prototype.removeEventListener = Element.prototype.removeEventListener = function (type, listener, useCapture) {\n        this.detachEvent(\"on\" + type, listener);\n      };\n\n      // Thanks to http://www.switchonthecode.com !!\n      this.cancelEvent = function (e) {\n        e = e || _win.event;\n        if (e) {          \n          e.cancelBubble = true;\n          e.cancel = true;\n          e.returnValue = false;\n        }  \n        return false;\n      };\n\n      this.stopPropagation = function (e) {\n        e = e || _win.event;\n        if (e) e.cancelBubble = true;\n        return false;\n      };\n\n    }\n\n    this.delegate = function (dom, name, fn, bubble, active) {\n\n      var de = delegatevents[name] || false;\n\n      if (!de) {\n\n        de = {\n          a: [],\n          l: [],\n          f: function (e) {\n            var lst = de.l, l = lst.length - 1;\n            var r = false;\n            for (var a = l; a >= 0; a--) {\n              r = lst[a].call(e.target, e);\n              if (r === false) return false;\n            }\n            return r;\n          }\n        };\n\n        self.bind(dom, name, de.f, bubble, active);\n\n        delegatevents[name] = de;\n\n      }\n\n      if (self.ispage) {\n        de.a = [self.id].concat(de.a);\n        de.l = [fn].concat(de.l);\n      } else {\n        de.a.push(self.id);\n        de.l.push(fn);        \n      }\n\n    };\n\n    this.undelegate = function (dom, name, fn, bubble, active) {\n      var de = delegatevents[name]||false;\n      if (de&&de.l) {  // quick fix #683\n        for (var a=0,l=de.l.length;a<l;a++) {\n          if (de.a[a] === self.id) {\n            de.a.splice(a);\n            de.l.splice(a);\n            if (de.a.length===0) {\n              self._unbind(dom,name,de.l.f);\n              delegatevents[name] = null;\n            }\n          }\n        }\n      }\n    };\n\n    this.bind = function (dom, name, fn, bubble, active) {\n      var el = (\"jquery\" in dom) ? dom[0] : dom;\n      self._bind(el, name, fn, bubble || false, active || false);\n    };\n\n    this._bind = function (el, name, fn, bubble, active) { // primitive bind\n\n      self.events.push({\n        e: el,\n        n: name,\n        f: fn,\n        b: bubble,\n        q: false\n      });\n\n      (passiveSupported && (active || el == window.document || el == window.document.body || el == window)) ? el.addEventListener(name, fn, { passive: false, capture: bubble }) : el.addEventListener(name, fn, bubble || false);\n    };\n\n    this._unbind = function (el, name, fn, bub) { // primitive unbind\n      if (delegatevents[name]) self.undelegate(el, name, fn, bub);\n      else el.removeEventListener(name, fn, bub);\n    };\n\n    this.unbindAll = function () {\n      for (var a = 0; a < self.events.length; a++) {\n        var r = self.events[a];\n        (r.q) ? r.e.unbind(r.n, r.f) : self._unbind(r.e, r.n, r.f, r.b);\n      }\n    };\n\n    this.showRails = function () {\n      return self.showRail().showRailHr();\n    };\n\n    this.showRail = function () {\n      if ((self.page.maxh !== 0) && (self.ispage || self.win.css('display') != 'none')) {\n        //self.visibility = true;\n        self.rail.visibility = true;\n        self.rail.css('display', 'block');\n      }\n      return self;\n    };\n\n    this.showRailHr = function () {\n      if (self.railh) {\n        if ((self.page.maxw !== 0) && (self.ispage || self.win.css('display') != 'none')) {\n          self.railh.visibility = true;\n          self.railh.css('display', 'block');\n        }\n      }\n      return self;\n    };\n\n    this.hideRails = function () {\n      return self.hideRail().hideRailHr();\n    };\n\n    this.hideRail = function () {\n      //self.visibility = false;\n      self.rail.visibility = false;\n      self.rail.css('display', 'none');\n      return self;\n    };\n\n    this.hideRailHr = function () {\n      if (self.railh) {\n        self.railh.visibility = false;\n        self.railh.css('display', 'none');\n      }\n      return self;\n    };\n\n    this.show = function () {\n      self.hidden = false;\n      self.railslocked = false;\n      return self.showRails();\n    };\n\n    this.hide = function () {\n      self.hidden = true;\n      self.railslocked = true;\n      return self.hideRails();\n    };\n\n    this.toggle = function () {\n      return (self.hidden) ? self.show() : self.hide();\n    };\n\n    this.remove = function () {\n      self.stop();\n      if (self.cursortimeout) clearTimeout(self.cursortimeout);\n      for (var n in self.delaylist) if (self.delaylist[n]) clearAnimationFrame(self.delaylist[n].h);\n      self.doZoomOut();\n      self.unbindAll();\n\n      if (cap.isie9) self.win[0].detachEvent(\"onpropertychange\", self.onAttributeChange); //IE9 DOMAttrModified bug\n\n      if (self.observer !== false) self.observer.disconnect();\n      if (self.observerremover !== false) self.observerremover.disconnect();\n      if (self.observerbody !== false) self.observerbody.disconnect();\n\n      self.events = null;\n\n      if (self.cursor) {\n        self.cursor.remove();\n      }\n      if (self.cursorh) {\n        self.cursorh.remove();\n      }\n      if (self.rail) {\n        self.rail.remove();\n      }\n      if (self.railh) {\n        self.railh.remove();\n      }\n      if (self.zoom) {\n        self.zoom.remove();\n      }\n      for (var a = 0; a < self.saved.css.length; a++) {\n        var d = self.saved.css[a];\n        d[0].css(d[1], (d[2] === undefined) ? '' : d[2]);\n      }\n      self.saved = false;\n      self.me.data('__nicescroll', ''); //erase all traces\n\n      // memory leak fixed by GianlucaGuarini - thanks a lot!\n      // remove the current nicescroll from the $.nicescroll array & normalize array\n      var lst = $.nicescroll;\n      lst.each(function (i) {\n        if (!this) return;\n        if (this.id === self.id) {\n          delete lst[i];\n          for (var b = ++i; b < lst.length; b++ , i++) lst[i] = lst[b];\n          lst.length--;\n          if (lst.length) delete lst[lst.length];\n        }\n      });\n\n      for (var i in self) {\n        self[i] = null;\n        delete self[i];\n      }\n\n      self = null;\n\n    };\n\n    this.scrollstart = function (fn) {\n      this.onscrollstart = fn;\n      return self;\n    };\n    this.scrollend = function (fn) {\n      this.onscrollend = fn;\n      return self;\n    };\n    this.scrollcancel = function (fn) {\n      this.onscrollcancel = fn;\n      return self;\n    };\n\n    this.zoomin = function (fn) {\n      this.onzoomin = fn;\n      return self;\n    };\n    this.zoomout = function (fn) {\n      this.onzoomout = fn;\n      return self;\n    };\n\n    this.isScrollable = function (e) {\n      var dom = (e.target) ? e.target : e;\n      if (dom.nodeName == 'OPTION') return true;\n      while (dom && (dom.nodeType == 1) && (dom !== this.me[0]) && !(/^BODY|HTML/.test(dom.nodeName))) {\n        var dd = $(dom);\n        var ov = dd.css('overflowY') || dd.css('overflowX') || dd.css('overflow') || '';\n        if (/scroll|auto/.test(ov)) return (dom.clientHeight != dom.scrollHeight);\n        dom = (dom.parentNode) ? dom.parentNode : false;\n      }\n      return false;\n    };\n\n    this.getViewport = function (me) {\n      var dom = (me && me.parentNode) ? me.parentNode : false;\n      while (dom && (dom.nodeType == 1) && !(/^BODY|HTML/.test(dom.nodeName))) {\n        var dd = $(dom);\n        if (/fixed|absolute/.test(dd.css(\"position\"))) return dd;\n        var ov = dd.css('overflowY') || dd.css('overflowX') || dd.css('overflow') || '';\n        if ((/scroll|auto/.test(ov)) && (dom.clientHeight != dom.scrollHeight)) return dd;\n        if (dd.getNiceScroll().length > 0) return dd;\n        dom = (dom.parentNode) ? dom.parentNode : false;\n      }\n      return false;\n    };\n\n    this.triggerScrollStart = function (cx, cy, rx, ry, ms) {\n\n      if (self.onscrollstart) {\n        var info = {\n          type: \"scrollstart\",\n          current: {\n            x: cx,\n            y: cy\n          },\n          request: {\n            x: rx,\n            y: ry\n          },\n          end: {\n            x: self.newscrollx,\n            y: self.newscrolly\n          },\n          speed: ms\n        };\n        self.onscrollstart.call(self, info);\n      }\n\n    };\n\n    this.triggerScrollEnd = function () {\n      if (self.onscrollend) {\n\n        var px = self.getScrollLeft();\n        var py = self.getScrollTop();\n\n        var info = {\n          type: \"scrollend\",\n          current: {\n            x: px,\n            y: py\n          },\n          end: {\n            x: px,\n            y: py\n          }\n        };\n\n        self.onscrollend.call(self, info);\n\n      }\n\n    };\n\n    var scrolldiry = 0, scrolldirx = 0, scrolltmr = 0, scrollspd = 1;\n\n    function doScrollRelative(px, py, chkscroll, iswheel) {\n\n      if (!self.scrollrunning) {\n        self.newscrolly = self.getScrollTop();\n        self.newscrollx = self.getScrollLeft();\n        scrolltmr = now();\n      }\n\n      var gap = (now() - scrolltmr);\n      scrolltmr = now();\n\n      if (gap > 350) {\n        scrollspd = 1;\n      } else {\n        scrollspd += (2 - scrollspd) / 10;\n      }\n\n      px = px * scrollspd | 0;\n      py = py * scrollspd | 0;\n\n      if (px) {\n\n        if (iswheel) { // mouse-only\n          if (px < 0) {  // fix apple magic mouse swipe back/forward\n            if (self.getScrollLeft() >= self.page.maxw) return true;\n          } else {\n            if (self.getScrollLeft() <= 0) return true;\n          }\n        }\n\n        var dx = px > 0 ? 1 : -1;\n\n        if (scrolldirx !== dx) {\n          if (self.scrollmom) self.scrollmom.stop();\n          self.newscrollx = self.getScrollLeft();\n          scrolldirx = dx;\n        }\n\n        self.lastdeltax -= px;\n\n      }\n\n      if (py) {\n\n        var chk = (function () {\n          var top = self.getScrollTop();\n          if (py < 0) {\n            if (top >= self.page.maxh) return true;\n          } else {\n            if (top <= 0) return true;\n          }\n        })();\n\n        if (chk) {\n          if (opt.nativeparentscrolling && chkscroll && !self.ispage && !self.zoomactive) return true;\n          var ny = self.view.h >> 1;\n          if (self.newscrolly < -ny) { self.newscrolly = -ny; py = -1; }\n          else if (self.newscrolly > self.page.maxh + ny) { self.newscrolly = self.page.maxh + ny; py = 1; }\n          else py = 0;\n        }\n\n        var dy = py > 0 ? 1 : -1;\n\n        if (scrolldiry !== dy) {\n          if (self.scrollmom) self.scrollmom.stop();\n          self.newscrolly = self.getScrollTop();\n          scrolldiry = dy;\n        }\n\n        self.lastdeltay -= py;\n\n      }\n\n      if (py || px) {\n        self.synched(\"relativexy\", function () {\n\n          var dty = self.lastdeltay + self.newscrolly;\n          self.lastdeltay = 0;\n\n          var dtx = self.lastdeltax + self.newscrollx;\n          self.lastdeltax = 0;\n\n          if (!self.rail.drag) self.doScrollPos(dtx, dty);\n\n        });\n      }\n\n    }\n\n    var hasparentscrollingphase = false;\n\n    function execScrollWheel(e, hr, chkscroll) {\n      var px, py;\n\n      if (!chkscroll && hasparentscrollingphase) return true;\n\n      if (e.deltaMode === 0) { // PIXEL\n        px = -(e.deltaX * (opt.mousescrollstep / (18 * 3))) | 0;\n        py = -(e.deltaY * (opt.mousescrollstep / (18 * 3))) | 0;\n      } else if (e.deltaMode === 1) { // LINE\n        px = -(e.deltaX * opt.mousescrollstep * 50 / 80) | 0;\n        py = -(e.deltaY * opt.mousescrollstep * 50 / 80) | 0;\n      }\n\n      if (hr && opt.oneaxismousemode && (px === 0) && py) { // classic vertical-only mousewheel + browser with x/y support \n        px = py;\n        py = 0;\n\n        if (chkscroll) {\n          var hrend = (px < 0) ? (self.getScrollLeft() >= self.page.maxw) : (self.getScrollLeft() <= 0);\n          if (hrend) {  // preserve vertical scrolling\n            py = px;\n            px = 0;\n          }\n        }\n\n      }\n\n      // invert horizontal direction for rtl mode\n      if (self.isrtlmode) px = -px;\n\n      var chk = doScrollRelative(px, py, chkscroll, true);\n\n      if (chk) {\n        if (chkscroll) hasparentscrollingphase = true;\n      } else {\n        hasparentscrollingphase = false;\n        e.stopImmediatePropagation();\n        return e.preventDefault();\n      }\n\n    }\n\n    this.onmousewheel = function (e) {\n      if (self.wheelprevented||self.locked) return false;\n      if (self.railslocked) {\n        self.debounced(\"checkunlock\", self.resize, 250);\n        return false;\n      }\n      if (self.rail.drag) return self.cancelEvent(e);\n\n      if (opt.oneaxismousemode === \"auto\" && e.deltaX !== 0) opt.oneaxismousemode = false; // check two-axis mouse support (not very elegant)\n\n      if (opt.oneaxismousemode && e.deltaX === 0) {\n        if (!self.rail.scrollable) {\n          if (self.railh && self.railh.scrollable) {\n            return self.onmousewheelhr(e);\n          } else {\n            return true;\n          }\n        }\n      }\n\n      var nw = now();\n      var chk = false;\n      if (opt.preservenativescrolling && ((self.checkarea + 600) < nw)) {\n        self.nativescrollingarea = self.isScrollable(e);\n        chk = true;\n      }\n      self.checkarea = nw;\n      if (self.nativescrollingarea) return true; // this isn't my business\n      var ret = execScrollWheel(e, false, chk);\n      if (ret) self.checkarea = 0;\n      return ret;\n    };\n\n    this.onmousewheelhr = function (e) {\n      if (self.wheelprevented) return;\n      if (self.railslocked || !self.railh.scrollable) return true;\n      if (self.rail.drag) return self.cancelEvent(e);\n\n      var nw = now();\n      var chk = false;\n      if (opt.preservenativescrolling && ((self.checkarea + 600) < nw)) {\n        self.nativescrollingarea = self.isScrollable(e);\n        chk = true;\n      }\n      self.checkarea = nw;\n      if (self.nativescrollingarea) return true; // this is not my business\n      if (self.railslocked) return self.cancelEvent(e);\n\n      return execScrollWheel(e, true, chk);\n    };\n\n    this.stop = function () {\n      self.cancelScroll();\n      if (self.scrollmon) self.scrollmon.stop();\n      self.cursorfreezed = false;\n      self.scroll.y = Math.round(self.getScrollTop() * (1 / self.scrollratio.y));\n      self.noticeCursor();\n      return self;\n    };\n\n    this.getTransitionSpeed = function (dif) {\n\n      return 80 + (dif / 72) * opt.scrollspeed |0;\n\n    };\n\n    if (!opt.smoothscroll) {\n      this.doScrollLeft = function (x, spd) { //direct\n        var y = self.getScrollTop();\n        self.doScrollPos(x, y, spd);\n      };\n      this.doScrollTop = function (y, spd) { //direct\n        var x = self.getScrollLeft();\n        self.doScrollPos(x, y, spd);\n      };\n      this.doScrollPos = function (x, y, spd) { //direct\n        var nx = (x > self.page.maxw) ? self.page.maxw : x;\n        if (nx < 0) nx = 0;\n        var ny = (y > self.page.maxh) ? self.page.maxh : y;\n        if (ny < 0) ny = 0;\n        self.synched('scroll', function () {\n          self.setScrollTop(ny);\n          self.setScrollLeft(nx);\n        });\n      };\n      this.cancelScroll = function () { }; // direct\n\n    } else if (self.ishwscroll && cap.hastransition && opt.usetransition && !!opt.smoothscroll) {\n\n      var lasttransitionstyle = '';\n\n      this.resetTransition = function () {\n        lasttransitionstyle = '';\n        self.doc.css(cap.prefixstyle + 'transition-duration', '0ms');\n      };\n\n      this.prepareTransition = function (dif, istime) {\n        var ex = (istime) ? dif : self.getTransitionSpeed(dif);\n        var trans = ex + 'ms';\n        if (lasttransitionstyle !== trans) {\n          lasttransitionstyle = trans;\n          self.doc.css(cap.prefixstyle + 'transition-duration', trans);\n        }\n        return ex;\n      };\n\n      this.doScrollLeft = function (x, spd) { //trans\n        var y = (self.scrollrunning) ? self.newscrolly : self.getScrollTop();\n        self.doScrollPos(x, y, spd);\n      };\n\n      this.doScrollTop = function (y, spd) { //trans\n        var x = (self.scrollrunning) ? self.newscrollx : self.getScrollLeft();\n        self.doScrollPos(x, y, spd);\n      };\n\n      this.cursorupdate = {\n        running: false,\n        start: function () {\n          var m = this;\n\n          if (m.running) return;\n          m.running = true;\n\n          var loop = function () {\n            if (m.running) setAnimationFrame(loop);\n            self.showCursor(self.getScrollTop(), self.getScrollLeft());\n            self.notifyScrollEvent(self.win[0]);\n          };\n\n          setAnimationFrame(loop);\n        },\n        stop: function () {\n          this.running = false;\n        }\n      };\n\n      this.doScrollPos = function (x, y, spd) { //trans\n\n        var py = self.getScrollTop();\n        var px = self.getScrollLeft();\n\n        if (((self.newscrolly - py) * (y - py) < 0) || ((self.newscrollx - px) * (x - px) < 0)) self.cancelScroll(); //inverted movement detection      \n\n        if (!opt.bouncescroll) {\n          if (y < 0) y = 0;\n          else if (y > self.page.maxh) y = self.page.maxh;\n          if (x < 0) x = 0;\n          else if (x > self.page.maxw) x = self.page.maxw;\n        } else {\n          if (y < 0) y = y / 2 | 0;\n          else if (y > self.page.maxh) y = self.page.maxh + (y - self.page.maxh) / 2 | 0;\n          if (x < 0) x = x / 2 | 0;\n          else if (x > self.page.maxw) x = self.page.maxw + (x - self.page.maxw) / 2 | 0;\n        }\n\n        if (self.scrollrunning && x == self.newscrollx && y == self.newscrolly) return false;\n\n        self.newscrolly = y;\n        self.newscrollx = x;\n\n        var top = self.getScrollTop();\n        var lft = self.getScrollLeft();\n\n        var dst = {};\n        dst.x = x - lft;\n        dst.y = y - top;\n\n        var dd = Math.sqrt((dst.x * dst.x) + (dst.y * dst.y)) | 0;\n\n        var ms = self.prepareTransition(dd);\n\n        if (!self.scrollrunning) {\n          self.scrollrunning = true;\n          self.triggerScrollStart(lft, top, x, y, ms);\n          self.cursorupdate.start();\n        }\n\n        self.scrollendtrapped = true;\n\n        if (!cap.transitionend) {\n          if (self.scrollendtrapped) clearTimeout(self.scrollendtrapped);\n          self.scrollendtrapped = setTimeout(self.onScrollTransitionEnd, ms); // simulate transitionend event\n        }\n\n        self.setScrollTop(self.newscrolly);\n        self.setScrollLeft(self.newscrollx);\n\n      };\n\n      this.cancelScroll = function () {\n        if (!self.scrollendtrapped) return true;\n        var py = self.getScrollTop();\n        var px = self.getScrollLeft();\n        self.scrollrunning = false;\n        if (!cap.transitionend) clearTimeout(cap.transitionend);\n        self.scrollendtrapped = false;\n        self.resetTransition();\n        self.setScrollTop(py); // fire event onscroll\n        if (self.railh) self.setScrollLeft(px);\n        if (self.timerscroll && self.timerscroll.tm) clearInterval(self.timerscroll.tm);\n        self.timerscroll = false;\n\n        self.cursorfreezed = false;\n\n        self.cursorupdate.stop();\n        self.showCursor(py, px);\n        return self;\n      };\n\n      this.onScrollTransitionEnd = function () {\n\n        if (!self.scrollendtrapped) return;\n\n        var py = self.getScrollTop();\n        var px = self.getScrollLeft();\n\n        if (py < 0) py = 0;\n        else if (py > self.page.maxh) py = self.page.maxh;\n        if (px < 0) px = 0;\n        else if (px > self.page.maxw) px = self.page.maxw;\n        if ((py != self.newscrolly) || (px != self.newscrollx)) return self.doScrollPos(px, py, opt.snapbackspeed);\n\n        if (self.scrollrunning) self.triggerScrollEnd();\n        self.scrollrunning = false;\n\n        self.scrollendtrapped = false;\n        self.resetTransition();\n        self.timerscroll = false;\n        self.setScrollTop(py); // fire event onscroll        \n        if (self.railh) self.setScrollLeft(px); // fire event onscroll left\n\n        self.cursorupdate.stop();\n        self.noticeCursor(false, py, px);\n\n        self.cursorfreezed = false;\n\n      };\n\n    } else {\n\n      this.doScrollLeft = function (x, spd) { //no-trans\n        var y = (self.scrollrunning) ? self.newscrolly : self.getScrollTop();\n        self.doScrollPos(x, y, spd);\n      };\n\n      this.doScrollTop = function (y, spd) { //no-trans\n        var x = (self.scrollrunning) ? self.newscrollx : self.getScrollLeft();\n        self.doScrollPos(x, y, spd);\n      };\n\n      this.doScrollPos = function (x, y, spd) { //no-trans\n\n        var py = self.getScrollTop();\n        var px = self.getScrollLeft();\n\n        if (((self.newscrolly - py) * (y - py) < 0) || ((self.newscrollx - px) * (x - px) < 0)) self.cancelScroll(); //inverted movement detection\n\n        var clipped = false;\n\n        if (!self.bouncescroll || !self.rail.visibility) {\n          if (y < 0) {\n            y = 0;\n            clipped = true;\n          } else if (y > self.page.maxh) {\n            y = self.page.maxh;\n            clipped = true;\n          }\n        }\n        if (!self.bouncescroll || !self.railh.visibility) {\n          if (x < 0) {\n            x = 0;\n            clipped = true;\n          } else if (x > self.page.maxw) {\n            x = self.page.maxw;\n            clipped = true;\n          }\n        }\n\n        if (self.scrollrunning && (self.newscrolly === y) && (self.newscrollx === x)) return true;\n\n        self.newscrolly = y;\n        self.newscrollx = x;\n\n        self.dst = {};\n        self.dst.x = x - px;\n        self.dst.y = y - py;\n        self.dst.px = px;\n        self.dst.py = py;\n\n        var dd = Math.sqrt((self.dst.x * self.dst.x) + (self.dst.y * self.dst.y)) | 0;\n        var ms = self.getTransitionSpeed(dd);\n\n        self.bzscroll = {};\n\n        var p3 = (clipped) ? 1 : 0.58;\n        self.bzscroll.x = new BezierClass(px, self.newscrollx, ms, 0, 0, p3, 1);\n        self.bzscroll.y = new BezierClass(py, self.newscrolly, ms, 0, 0, p3, 1);\n\n        var loopid = now();\n\n        var loop = function () {\n\n          if (!self.scrollrunning) return;\n          var x = self.bzscroll.y.getPos();\n\n          self.setScrollLeft(self.bzscroll.x.getNow());\n          self.setScrollTop(self.bzscroll.y.getNow());\n\n          if (x <= 1) {\n            self.timer = setAnimationFrame(loop);\n          } else {\n            self.scrollrunning = false;\n            self.timer = 0;\n            self.triggerScrollEnd();\n          }\n\n        };\n\n        if (!self.scrollrunning) {\n          self.triggerScrollStart(px, py, x, y, ms);\n          self.scrollrunning = true;\n          self.timer = setAnimationFrame(loop);\n        }\n\n      };\n\n      this.cancelScroll = function () {\n        if (self.timer) clearAnimationFrame(self.timer);\n        self.timer = 0;\n        self.bzscroll = false;\n        self.scrollrunning = false;\n        return self;\n      };\n\n    }\n\n    this.doScrollBy = function (stp, relative) {\n      doScrollRelative(0, stp);\n    };\n\n    this.doScrollLeftBy = function (stp, relative) {\n      doScrollRelative(stp, 0);\n    };\n\n    this.doScrollTo = function (pos, relative) {\n      var ny = (relative) ? Math.round(pos * self.scrollratio.y) : pos;\n      if (ny < 0) ny = 0;\n      else if (ny > self.page.maxh) ny = self.page.maxh;\n      self.cursorfreezed = false;\n      self.doScrollTop(pos);\n    };\n\n    this.checkContentSize = function () {\n      var pg = self.getContentSize();\n      if ((pg.h != self.page.h) || (pg.w != self.page.w)) self.resize(false, pg);\n    };\n\n    self.onscroll = function (e) {\n      if (self.rail.drag) return;\n      if (!self.cursorfreezed) {\n        self.synched('scroll', function () {\n          self.scroll.y = Math.round(self.getScrollTop() / self.scrollratio.y);\n          if (self.railh) self.scroll.x = Math.round(self.getScrollLeft() / self.scrollratio.x);\n          self.noticeCursor();\n        });\n      }\n    };\n    self.bind(self.docscroll, \"scroll\", self.onscroll);\n\n    this.doZoomIn = function (e) {\n      if (self.zoomactive) return;\n      self.zoomactive = true;\n\n      self.zoomrestore = {\n        style: {}\n      };\n      var lst = ['position', 'top', 'left', 'zIndex', 'backgroundColor', 'marginTop', 'marginBottom', 'marginLeft', 'marginRight'];\n      var win = self.win[0].style;\n      for (var a in lst) {\n        var pp = lst[a];\n        self.zoomrestore.style[pp] = (win[pp] !== undefined) ? win[pp] : '';\n      }\n\n      self.zoomrestore.style.width = self.win.css('width');\n      self.zoomrestore.style.height = self.win.css('height');\n\n      self.zoomrestore.padding = {\n        w: self.win.outerWidth() - self.win.width(),\n        h: self.win.outerHeight() - self.win.height()\n      };\n\n      if (cap.isios4) {\n        self.zoomrestore.scrollTop = $window.scrollTop();\n        $window.scrollTop(0);\n      }\n\n      self.win.css({\n        position: (cap.isios4) ? \"absolute\" : \"fixed\",\n        top: 0,\n        left: 0,\n        zIndex: globalmaxzindex + 100,\n        margin: 0\n      });\n      var bkg = self.win.css(\"backgroundColor\");\n      if (\"\" === bkg || /transparent|rgba\\(0, 0, 0, 0\\)|rgba\\(0,0,0,0\\)/.test(bkg)) self.win.css(\"backgroundColor\", \"#fff\");\n      self.rail.css({\n        zIndex: globalmaxzindex + 101\n      });\n      self.zoom.css({\n        zIndex: globalmaxzindex + 102\n      });\n      self.zoom.css('backgroundPosition', '0 -18px');\n      self.resizeZoom();\n\n      if (self.onzoomin) self.onzoomin.call(self);\n\n      return self.cancelEvent(e);\n    };\n\n    this.doZoomOut = function (e) {\n      if (!self.zoomactive) return;\n      self.zoomactive = false;\n\n      self.win.css(\"margin\", \"\");\n      self.win.css(self.zoomrestore.style);\n\n      if (cap.isios4) {\n        $window.scrollTop(self.zoomrestore.scrollTop);\n      }\n\n      self.rail.css({\n        \"z-index\": self.zindex\n      });\n      self.zoom.css({\n        \"z-index\": self.zindex\n      });\n      self.zoomrestore = false;\n      self.zoom.css('backgroundPosition', '0 0');\n      self.onResize();\n\n      if (self.onzoomout) self.onzoomout.call(self);\n\n      return self.cancelEvent(e);\n    };\n\n    this.doZoom = function (e) {\n      return (self.zoomactive) ? self.doZoomOut(e) : self.doZoomIn(e);\n    };\n\n    this.resizeZoom = function () {\n      if (!self.zoomactive) return;\n\n      var py = self.getScrollTop(); //preserve scrolling position\n      self.win.css({\n        width: $window.width() - self.zoomrestore.padding.w + \"px\",\n        height: $window.height() - self.zoomrestore.padding.h + \"px\"\n      });\n      self.onResize();\n\n      self.setScrollTop(Math.min(self.page.maxh, py));\n    };\n\n    this.init();\n\n    $.nicescroll.push(this);\n\n  };\n\n  // Inspired by the work of Kin Blas\n  // http://webpro.host.adobe.com/people/jblas/momentum/includes/jquery.momentum.0.7.js  \n  var ScrollMomentumClass2D = function (nc) {\n    var self = this;\n    this.nc = nc;\n\n    this.lastx = 0;\n    this.lasty = 0;\n    this.speedx = 0;\n    this.speedy = 0;\n    this.lasttime = 0;\n    this.steptime = 0;\n    this.snapx = false;\n    this.snapy = false;\n    this.demulx = 0;\n    this.demuly = 0;\n\n    this.lastscrollx = -1;\n    this.lastscrolly = -1;\n\n    this.chkx = 0;\n    this.chky = 0;\n\n    this.timer = 0;\n\n    this.reset = function (px, py) {\n      self.stop();\n      self.steptime = 0;\n      self.lasttime = now();\n      self.speedx = 0;\n      self.speedy = 0;\n      self.lastx = px;\n      self.lasty = py;\n      self.lastscrollx = -1;\n      self.lastscrolly = -1;\n    };\n\n    this.update = function (px, py) {\n      var tm = now();\n      self.steptime = tm - self.lasttime;\n      self.lasttime = tm;\n      var dy = py - self.lasty;\n      var dx = px - self.lastx;\n      var sy = self.nc.getScrollTop();\n      var sx = self.nc.getScrollLeft();\n      var newy = sy + dy;\n      var newx = sx + dx;\n      self.snapx = (newx < 0) || (newx > self.nc.page.maxw);\n      self.snapy = (newy < 0) || (newy > self.nc.page.maxh);\n      self.speedx = dx;\n      self.speedy = dy;\n      self.lastx = px;\n      self.lasty = py;\n    };\n\n    this.stop = function () {\n      self.nc.unsynched(\"domomentum2d\");\n      if (self.timer) clearTimeout(self.timer);\n      self.timer = 0;\n      self.lastscrollx = -1;\n      self.lastscrolly = -1;\n    };\n\n    this.doSnapy = function (nx, ny) {\n      var snap = false;\n\n      if (ny < 0) {\n        ny = 0;\n        snap = true;\n      } else if (ny > self.nc.page.maxh) {\n        ny = self.nc.page.maxh;\n        snap = true;\n      }\n\n      if (nx < 0) {\n        nx = 0;\n        snap = true;\n      } else if (nx > self.nc.page.maxw) {\n        nx = self.nc.page.maxw;\n        snap = true;\n      }\n\n      (snap) ? self.nc.doScrollPos(nx, ny, self.nc.opt.snapbackspeed) : self.nc.triggerScrollEnd();\n    };\n\n    this.doMomentum = function (gp) {\n      var t = now();\n      var l = (gp) ? t + gp : self.lasttime;\n\n      var sl = self.nc.getScrollLeft();\n      var st = self.nc.getScrollTop();\n\n      var pageh = self.nc.page.maxh;\n      var pagew = self.nc.page.maxw;\n\n      self.speedx = (pagew > 0) ? Math.min(60, self.speedx) : 0;\n      self.speedy = (pageh > 0) ? Math.min(60, self.speedy) : 0;\n\n      var chk = l && (t - l) <= 60;\n\n      if ((st < 0) || (st > pageh) || (sl < 0) || (sl > pagew)) chk = false;\n\n      var sy = (self.speedy && chk) ? self.speedy : false;\n      var sx = (self.speedx && chk) ? self.speedx : false;\n\n      if (sy || sx) {\n        var tm = Math.max(16, self.steptime); //timeout granularity\n\n        if (tm > 50) { // do smooth\n          var xm = tm / 50;\n          self.speedx *= xm;\n          self.speedy *= xm;\n          tm = 50;\n        }\n\n        self.demulxy = 0;\n\n        self.lastscrollx = self.nc.getScrollLeft();\n        self.chkx = self.lastscrollx;\n        self.lastscrolly = self.nc.getScrollTop();\n        self.chky = self.lastscrolly;\n\n        var nx = self.lastscrollx;\n        var ny = self.lastscrolly;\n\n        var onscroll = function () {\n          var df = ((now() - t) > 600) ? 0.04 : 0.02;\n\n          if (self.speedx) {\n            nx = Math.floor(self.lastscrollx - (self.speedx * (1 - self.demulxy)));\n            self.lastscrollx = nx;\n            if ((nx < 0) || (nx > pagew)) df = 0.10;\n          }\n\n          if (self.speedy) {\n            ny = Math.floor(self.lastscrolly - (self.speedy * (1 - self.demulxy)));\n            self.lastscrolly = ny;\n            if ((ny < 0) || (ny > pageh)) df = 0.10;\n          }\n\n          self.demulxy = Math.min(1, self.demulxy + df);\n\n          self.nc.synched(\"domomentum2d\", function () {\n\n            if (self.speedx) {\n              var scx = self.nc.getScrollLeft();\n              //              if (scx != self.chkx) self.stop();\n              self.chkx = nx;\n              self.nc.setScrollLeft(nx);\n            }\n\n            if (self.speedy) {\n              var scy = self.nc.getScrollTop();\n              //              if (scy != self.chky) self.stop();\n              self.chky = ny;\n              self.nc.setScrollTop(ny);\n            }\n\n            if (!self.timer) {\n              self.nc.hideCursor();\n              self.doSnapy(nx, ny);\n            }\n\n          });\n\n          if (self.demulxy < 1) {\n            self.timer = setTimeout(onscroll, tm);\n          } else {\n            self.stop();\n            self.nc.hideCursor();\n            self.doSnapy(nx, ny);\n          }\n        };\n\n        onscroll();\n\n      } else {\n        self.doSnapy(self.nc.getScrollLeft(), self.nc.getScrollTop());\n      }\n\n    };\n\n  };\n\n\n  // override jQuery scrollTop\n  var _scrollTop = jQuery.fn.scrollTop; // preserve original function\n\n  jQuery.cssHooks.pageYOffset = {\n    get: function (elem, computed, extra) {\n      var nice = $.data(elem, '__nicescroll') || false;\n      return (nice && nice.ishwscroll) ? nice.getScrollTop() : _scrollTop.call(elem);\n    },\n    set: function (elem, value) {\n      var nice = $.data(elem, '__nicescroll') || false;\n      (nice && nice.ishwscroll) ? nice.setScrollTop(parseInt(value)) : _scrollTop.call(elem, value);\n      return this;\n    }\n  };\n\n  jQuery.fn.scrollTop = function (value) {\n    if (value === undefined) {\n      var nice = (this[0]) ? $.data(this[0], '__nicescroll') || false : false;\n      return (nice && nice.ishwscroll) ? nice.getScrollTop() : _scrollTop.call(this);\n    } else {\n      return this.each(function () {\n        var nice = $.data(this, '__nicescroll') || false;\n        (nice && nice.ishwscroll) ? nice.setScrollTop(parseInt(value)) : _scrollTop.call($(this), value);\n      });\n    }\n  };\n\n  // override jQuery scrollLeft\n  var _scrollLeft = jQuery.fn.scrollLeft; // preserve original function\n\n  $.cssHooks.pageXOffset = {\n    get: function (elem, computed, extra) {\n      var nice = $.data(elem, '__nicescroll') || false;\n      return (nice && nice.ishwscroll) ? nice.getScrollLeft() : _scrollLeft.call(elem);\n    },\n    set: function (elem, value) {\n      var nice = $.data(elem, '__nicescroll') || false;\n      (nice && nice.ishwscroll) ? nice.setScrollLeft(parseInt(value)) : _scrollLeft.call(elem, value);\n      return this;\n    }\n  };\n\n  jQuery.fn.scrollLeft = function (value) {\n    if (value === undefined) {\n      var nice = (this[0]) ? $.data(this[0], '__nicescroll') || false : false;\n      return (nice && nice.ishwscroll) ? nice.getScrollLeft() : _scrollLeft.call(this);\n    } else {\n      return this.each(function () {\n        var nice = $.data(this, '__nicescroll') || false;\n        (nice && nice.ishwscroll) ? nice.setScrollLeft(parseInt(value)) : _scrollLeft.call($(this), value);\n      });\n    }\n  };\n\n  var NiceScrollArray = function (doms) {\n    var self = this;\n    this.length = 0;\n    this.name = \"nicescrollarray\";\n\n    this.each = function (fn) {\n      $.each(self, fn);\n      return self;\n    };\n\n    this.push = function (nice) {\n      self[self.length] = nice;\n      self.length++;\n    };\n\n    this.eq = function (idx) {\n      return self[idx];\n    };\n\n    if (doms) {\n      for (var a = 0; a < doms.length; a++) {\n        var nice = $.data(doms[a], '__nicescroll') || false;\n        if (nice) {\n          this[this.length] = nice;\n          this.length++;\n        }\n      }\n    }\n\n    return this;\n  };\n\n  function mplex(el, lst, fn) {\n    for (var a = 0, l = lst.length; a < l; a++) fn(el, lst[a]);\n  }\n  mplex(\n    NiceScrollArray.prototype, ['show', 'hide', 'toggle', 'onResize', 'resize', 'remove', 'stop', 'doScrollPos'],\n    function (e, n) {\n      e[n] = function () {\n        var args = arguments;\n        return this.each(function () {\n          this[n].apply(this, args);\n        });\n      };\n    }\n  );\n\n  jQuery.fn.getNiceScroll = function (index) {\n    if (index === undefined) {\n      return new NiceScrollArray(this);\n    } else {\n      return this[index] && $.data(this[index], '__nicescroll') || false;\n    }\n  };\n\n  var pseudos = jQuery.expr.pseudos || jQuery.expr[':'];  // jQuery 3 migration\n  pseudos.nicescroll = function (a) {\n    return $.data(a, '__nicescroll') !== undefined;\n  };\n\n  $.fn.niceScroll = function (wrapper, _opt) {\n    if (_opt === undefined && typeof wrapper == \"object\" && !(\"jquery\" in wrapper)) {\n      _opt = wrapper;\n      wrapper = false;\n    }\n\n    var ret = new NiceScrollArray();\n\n    this.each(function () {\n      var $this = $(this);\n\n      var opt = $.extend({}, _opt); // cloning\n\n      if (wrapper || false) {\n        var wrp = $(wrapper);\n        opt.doc = (wrp.length > 1) ? $(wrapper, $this) : wrp;\n        opt.win = $this;\n      }\n      var docundef = !(\"doc\" in opt);\n      if (!docundef && !(\"win\" in opt)) opt.win = $this;\n\n      var nice = $this.data('__nicescroll') || false;\n      if (!nice) {\n        opt.doc = opt.doc || $this;\n        nice = new NiceScrollClass(opt, $this);\n        $this.data('__nicescroll', nice);\n      }\n      ret.push(nice);\n    });\n\n    return (ret.length === 1) ? ret[0] : ret;\n  };\n\n  _win.NiceScroll = {\n    getjQuery: function () {\n      return jQuery;\n    }\n  };\n\n  if (!$.nicescroll) {\n    $.nicescroll = new NiceScrollArray();\n    $.nicescroll.options = _globaloptions;\n  }\n\n}));\n"],"names":["factory","define","amd","exports","module","require","jQuery","domfocus","mousefocus","tabindexcounter","ascrailcounter","globalmaxzindex","$","_doc","document","_win","window","$window","delegatevents","anilasttime","setAnimationFrame","requestAnimationFrame","webkitRequestAnimationFrame","mozRequestAnimationFrame","clearAnimationFrame","cancelAnimationFrame","webkitCancelAnimationFrame","mozCancelAnimationFrame","id","callback","element","currTime","Date","getTime","timeToCall","Math","max","setTimeout","clearTimeout","getBrowserDetection","browserdetected","_el","createElement","_style","style","_agent","navigator","userAgent","_platform","platform","d","haspointerlock","isopera","isopera12","isoperamini","Object","prototype","toString","call","operamini","isie","isieold","isie7","documentMode","isie8","isie9","isie10","isie11","ismsedge","ismozilla","iswebkit","ischrome","ischrome38","ischrome22","ischrome26","cantouch","documentElement","hasw3ctouch","PointerEvent","maxTouchPoints","msMaxTouchPoints","hasmstouch","MSPointerEvent","ismac","test","isios","isios4","isios7","isios8","isios10","Proxy","isandroid","haseventlistener","trstyle","hastransform","hastranslate3d","transitionstyle","hastransition","transitionend","check","a","c","length","undefined","prefixstyle","prefix","evs","cursorgrabvalue","lst","l","p","cursor","detectCursorGrab","hasmousecapture","hasMutationObserver","ClsMutationObserver","NiceScrollClass","myopt","me","self","this","version","name","target","$body","opt","doc","win","extend","_globaloptions","snapbackspeed","disablemutationobserver","iddoc","ispage","nodeName","haswrapper","docscroll","body","viewport","isfixed","iframe","isiframe","istextarea","forcescreen","canshowonmouseevent","autohidemode","onmousedown","onmouseup","onmousemove","onmousewheel","onkeypress","ongesturezoom","onclick","onscrollstart","onscrollend","onscrollcancel","onzoomin","onzoomout","view","page","scroll","x","y","scrollratio","cursorheight","scrollvaluemax","rtlmode","writingMode","css","isrtlmode","isvertical","scrollrunning","scrollmom","observer","observerremover","observerbody","scrollbarid","getElementById","rail","cursorfreezed","selectiondrag","zoom","zoomactive","hasfocus","hasmousefocus","railslocked","locked","hidden","cursoractive","wheelprevented","overflowx","overflowy","nativescrollingarea","checkarea","events","saved","delaylist","synclist","lastdeltax","lastdeltay","detected","cxscrollleft","cap","BezierClass","st","ed","spd","p1","p2","p3","p4","ts","now","df","getMatrixValues","tr","substr","replace","split","canhwscroll","hwacceleration","ishwscroll","hasreversehr","istouchcapable","enablemouselockapi","debounced","fn","tm","h","synched","unsynched","el","pars","n","push","scrollTop","val","getScrollTop","setScrollTop","scrollLeft","getScrollLeft","setScrollLeft","B2","t","B3","B4","getPos","getNow","pc","bz","update","translate","tx","ty","last","mtx","timerscroll","bh","notifyScrollEvent","e","createEvent","initUIEvent","niceevent","dispatchEvent","enabletranslate3d","silent","maxw","abs","getTarget","srcElement","hasParent","parentNode","_convertBorderWidth","thin","medium","thick","getWidthToPixel","dom","prop","chkheight","wd","px","parseFloat","isNaN","brd","outerHeight","innerHeight","outerWidth","innerWidth","getDocumentScrollOffset","top","pageYOffset","left","pageXOffset","getOffset","ofs","offset","scrl","ww","vp","updateScrollBar","len","wpos","pos","height","railpadding","bottom","railh","width","right","off","railoffset","align","railhoffset","doRailClick","dbl","hr","cur","cancelEvent","pageX","clientX","pageY","clientY","doScrollLeft","doScrollTop","cursorwidth","doScrollLeftBy","doScrollBy","pg","w","newscrolly","newscrollx","hasanimationframe","hascancelanimationframe","hasborderbox","init","emulatetouch","touchbehavior","getComputedStyle","oniframeload","_scrollyhidden","overflow-y","bind","onScrollTransitionEnd","zindex","zIndex","nodeType","zi","parseInt","parent","getZIndex","cont","-webkit-overflow-scrolling","position","float","background-color","cursorcolor","border","cursorborder","background-clip","-webkit-border-radius","cursorborderradius","-moz-border-radius","border-radius","addClass","attr","v","kp","append","background","visibility","scrollable","railalign","rlpos","moveneedoffset","locktollerance","checkSelectionScroll","tmp","_dom","drag","boxzoom","doZoom","cursoropacitymax","cursoropacitymin","backgroundImage","scriptpath","backgroundPosition","dblclickzoom","gesturezoom","scale","doZoomIn","doZoomOut","horizrailenabled","overflowX","backgroundColor","backgroundClip","cursorh","railvalign","bd","margin-right","getViewport","-webkit-tap-highlight-color","-webkit-touch-callout","disableoutline","autohidedom","opacity","add","hide","ScrollMomentumClass2D","ontouchstart","pointerType","MSPOINTER_TYPE_MOUSE","hasmoving","timer","triggerScrollEnd","stop","tg","type","stopPropagation","maxh","wp","ismouse","changedTouches","original","le","screenX","screenY","sx","sy","sl","pt","dl","directionlockdeadzone","getContentSize","ck","lastmouseup","reset","setCapture","_onclick","preventclick","click","ontouchend","doMomentum","hideCursor","releaseCapture","ontouchmove","byiframe","targetTouches","preventmultitouchscrolling","ofx","ofy","fy","my","fx","mx","ny","bouncescroll","round","nx","ay","ax","dz","triggerScrollStart","onpreventclick","prepareTransition","resetTransition","showCursor","selection","clear","ontouchstartCursor","hronly","cancelScroll","touches","csspointerevents","pointer-events","ontouchendCursor","ontouchmoveCursor","mw","scrollvaluemaxw","cursordragspeed","which","grabcursorenabled","rt","hasTextSelected","getSelection","rangeCount","onselectionstart","onselectionend","onselectiondrag","touch-action","delegate","-ms-touch-action","preventDefault","cursordragontouch","jqbind","is","active","sensitiverail","enablescrollonselection","enablemousewheel","mousewheel","onmousewheelhr","tabindex","noticeCursor","event","getAttribute","key","keyCode","ctrl","ctrlKey","shift","shiftKey","ret","doScrollPos","doScrollTo","spacebarenabled","enablekeyboard","onscreenresize","lazyResize","onAttributeChange","enableobserver","mutations","forEach","mut","hasClass","contains","show","clientWidth","clientHeight","observe","childList","subtree","characterData","attributes","attributeFilter","mo","removedNodes","dd","remove","attachEvent","resizeZoom","hh","iframexd","contentDocument","contentWindow","domain","console","log","html","contents","find","scrollWidth","scrollHeight","iframeautoresize","getElementsByTagName","-webkit-transform","onscroll","readyState","py","cursortimeout","lx","showonmouseevent","animate","hidecursordelay","offsetWidth","offsetHeight","onResize","premaxh","premaxw","previewh","previeww","lastposition","hideRail","hideRailHr","showRail","showRailHr","min","cursorminheight","resize","hlazyresize","_modernWheelEvent","bubble","_bind","deltaMode","deltaX","deltaZ","returnValue","stopImmediatePropagation","cancelBubble","wheelDeltaX","wheelDeltaY","deltaY","wheelDelta","detail","hiderails","hideRails","showRails","f","q","on","passiveSupported","wname","options","defineProperty","get","addEventListener","err","cancelable","preventManipulation","Event","constructor","Element","listener","useCapture","removeEventListener","detachEvent","cancel","de","r","concat","undelegate","splice","_unbind","b","passive","capture","bub","unbindAll","unbind","toggle","disconnect","data","i","nicescroll","each","scrollstart","scrollend","scrollcancel","zoomin","zoomout","isScrollable","ov","getNiceScroll","cx","cy","rx","ry","ms","info","current","request","end","speed","scrolldiry","scrolldirx","scrolltmr","scrollspd","doScrollRelative","chkscroll","iswheel","gap","dx","nativeparentscrolling","dy","dty","dtx","lasttransitionstyle","hasparentscrollingphase","execScrollWheel","mousescrollstep","oneaxismousemode","nw","chk","preservenativescrolling","scrollmon","getTransitionSpeed","dif","scrollspeed","smoothscroll","usetransition","istime","ex","trans","cursorupdate","running","start","loop","m","lft","dst","sqrt","scrollendtrapped","clearInterval","clipped","bzscroll","stp","relative","checkContentSize","zoomrestore","pp","padding","margin","bkg","z-index","scripts","MutationObserver","WebKitMutationObserver","cursorfixedheight","path","currentScript","s","src","slice","join","nc","lastx","lasty","speedx","speedy","lasttime","steptime","snapx","snapy","demulx","demuly","lastscrollx","lastscrolly","chkx","chky","newy","newx","doSnapy","snap","gp","pageh","pagew","xm","demulxy","floor","_scrollTop","cssHooks","elem","computed","extra","nice","set","value","_scrollLeft","NiceScrollArray","doms","eq","idx","mplex","args","arguments","apply","index","expr","pseudos","niceScroll","wrapper","_opt","$this","wrp","NiceScroll","getjQuery"],"mappings":"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"}