{"version":3,"file":"../ajax.min.js","sources":["ajax.js"],"sourcesContent":["const domParser = new DOMParser();\n\n$(\"#delete\").click(function(e) {\n    e.preventDefault();\n    $.ajax({\n        url: $(this).attr('formaction'),\n        type: \"DELETE\",\n        success: (res) => {\n            if (res.redirect) {\n                window.location.replace(res.redirect)\n            } else {\n                const document   = domParser.parseFromString(res, 'text/html');\n                const head       = document.getElementsByTagName('head')[0];\n                const errContent = document.getElementById(\"errContent\");\n                \n                $('head').replaceWith(head);\n                $('#content').replaceWith(errContent);\n                $('#errContent').css('height', 'calc(100vh - 209px)');\n            }\n        }\n    });\n});\n\n$(\".updateBtn\").click(function(e) {\n    if(!$(this).hasClass(\"active\")){\n        return\n    }\n\n    e.preventDefault();\n    const inputs = $(\"#selfuser\").find(\"input:not(input[type='submit'])\")\n    const newUser = {\n        first_name: inputs[0].value,\n        last_name:  inputs[1].value,\n        gender: inputs[2].checked ? inputs[2].value: inputs[3].value,\n        date_of_birth = inputs[4].value,\n        secret: {\n            username: inputs[5].value,\n            password: inputs[6].value,\n            email:    inputs[7].value\n        }\n    }\n\n    $.ajax({\n        url: $(this).attr('formaction'),\n        data: {newUser: JSON.stringify(newUser)},\n        type: \"PUT\",\n        success: (res) => {\n            if (res.redirect) {\n                window.location.replace(res.redirect)\n            } else {\n                const document   = domParser.parseFromString(res, 'text/html');\n                const head       = document.getElementsByTagName('head')[0];\n                const errContent = document.getElementById(\"errContent\");\n                \n                $('head').replaceWith(head);\n                $('#content').replaceWith(errContent);\n                $('#errContent').css('height', 'calc(100vh - 209px)');\n            }\n        }\n    })\n});"],"names":["domParser","DOMParser","$","click","e","preventDefault","ajax","url","this","attr","type","success","res","redirect","window","location","replace","document","parseFromString","head","getElementsByTagName","errContent","getElementById","replaceWith","css","hasClass","newUser","first_name","inputs","find","value","last_name","gender","checked","date_of_birth","secret","username","password","email","data","JSON","stringify"],"mappings":"AAAA,MAAMA,UAAY,IAAIC,UAEtBC,EAAE,WAAWC,MAAM,SAASC,GACxBA,EAAEC,iBACFH,EAAEI,KAAK,CACHC,IAAKL,EAAEM,MAAMC,KAAK,cAClBC,KAAM,SACNC,QAAS,IACL,GAAIC,EAAIC,SACJC,OAAOC,SAASC,QAAQJ,EAAIC,cACzB,CACH,MAAMI,EAAajB,UAAUkB,gBAAgBN,EAAK,aAClD,IAAMO,EAAaF,EAASG,qBAAqB,QAAQ,GACnDC,EAAaJ,EAASK,eAAe,cAE3CpB,EAAE,QAAQqB,YAAYJ,GACtBjB,EAAE,YAAYqB,YAAYF,GAC1BnB,EAAE,eAAesB,IAAI,SAAU,6BAM/CtB,EAAE,cAAcC,MAAM,SAASC,GACvBF,EAAEM,MAAMiB,SAAS,YAIrBrB,EAAEC,iBAEIqB,EAAU,CACZC,YAFEC,EAAS1B,EAAE,aAAa2B,KAAK,oCAEZ,GAAGC,MACtBC,UAAYH,EAAO,GAAGE,MACtBE,QAAQJ,EAAO,GAAGK,QAAUL,EAAO,GAAUA,EAAO,IAAdE,MACtCI,cAAAA,cAAgBN,EAAO,GAAGE,MAC1BK,OAAQ,CACJC,SAAUR,EAAO,GAAGE,MACpBO,SAAUT,EAAO,GAAGE,MACpBQ,MAAUV,EAAO,GAAGE,QAI5B5B,EAAEI,KAAK,CACHC,IAAKL,EAAEM,MAAMC,KAAK,cAClB8B,KAAM,CAACb,QAASc,KAAKC,UAAUf,IAC/BhB,KAAM,MACNC,QAAS,IACL,GAAIC,EAAIC,SACJC,OAAOC,SAASC,QAAQJ,EAAIC,cACzB,CACH,MAAMI,EAAajB,UAAUkB,gBAAgBN,EAAK,aAClD,IAAMO,EAAaF,EAASG,qBAAqB,QAAQ,GACnDC,EAAaJ,EAASK,eAAe,cAE3CpB,EAAE,QAAQqB,YAAYJ,GACtBjB,EAAE,YAAYqB,YAAYF,GAC1BnB,EAAE,eAAesB,IAAI,SAAU"}